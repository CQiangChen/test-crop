(function(t,n){"object"===typeof exports&&"object"===typeof module?module.exports=n():"function"===typeof define&&define.amd?define([],n):"object"===typeof exports?exports["test-crop"]=n():t["test-crop"]=n()})("undefined"!==typeof self?self:this,function(){return function(t){var n={};function i(o){if(n[o])return n[o].exports;var e=n[o]={i:o,l:!1,exports:{}};return t[o].call(e.exports,e,e.exports,i),e.l=!0,e.exports}return i.m=t,i.c=n,i.d=function(t,n,o){i.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:o})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,n){if(1&n&&(t=i(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var e in t)i.d(o,e,function(n){return t[n]}.bind(null,e));return o},i.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(n,"a",n),n},i.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},i.p="",i(i.s="299b")}({"01c1":function(t,n){t.exports=function(t,n,i,o){if(!(t instanceof n)||void 0!==o&&o in t)throw TypeError(i+": incorrect invocation!");return t}},"052f":function(t,n,i){},"0d08":function(t,n,i){var o=i("3977"),e=i("2ca0").set;t.exports=function(t,n,i){var c,r=n.constructor;return r!==i&&"function"==typeof r&&(c=r.prototype)!==i.prototype&&o(c)&&e&&e(t,c),t}},"0f12":function(t,n,i){"use strict";var o=i("052f"),e=i.n(o);e.a},"0f4c":function(t,n,i){var o=i("88b2")("keys"),e=i("bae1");t.exports=function(t){return o[t]||(o[t]=e(t))}},1160:function(t,n){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},"1a8b":function(t,n,i){var o=i("6031"),e=i("5a06")("iterator"),c=i("d3c3");t.exports=i("26d7").getIteratorMethod=function(t){if(void 0!=t)return t[e]||t["@@iterator"]||c[o(t)]}},"1adb":function(t,n,i){var o=i("3c7a"),e=i("289e"),c=i("99eb"),r=i("60be"),s=i("4fae"),h=i("d2a4"),u=Object.getOwnPropertyDescriptor;n.f=i("6ec3")?u:function(t,n){if(t=c(t),n=r(n,!0),h)try{return u(t,n)}catch(i){}if(s(t,n))return e(!o.f.call(t,n),t[n])}},"1c73":function(t,n,i){var o=i("bf57"),e=i("d2a4"),c=i("60be"),r=Object.defineProperty;n.f=i("6ec3")?Object.defineProperty:function(t,n,i){if(o(t),n=c(n,!0),o(i),e)try{return r(t,n,i)}catch(s){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[n]=i.value),t}},"1d6d":function(t,n){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},"26d7":function(t,n){var i=t.exports={version:"2.6.1"};"number"==typeof __e&&(__e=i)},"289e":function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},"299b":function(t,n,i){"use strict";var o;(i.r(n),"undefined"!==typeof window)&&((o=window.document.currentScript)&&(o=o.src.match(/(.+\/)[^\/]+\.js(\?.*)?$/))&&(i.p=o[1]));var e=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",{staticClass:"simple-crop"},[i("div",{staticClass:"bottom"},[i("img",{ref:"cropImg",staticStyle:{display:"block","max-width":"50%"},attrs:{src:t.imgSrc},on:{load:t.begin}}),i("div",{staticClass:"btn"},[i("div",{on:{click:t.end}},[t._t("end")],2),i("div",{on:{click:t.cancel}},[t._t("cancel")],2)])])])},c=[];i("eb04"),i("be1f"),i("69b7"),i("ff96"),i("2e49");
/*!
 * Cropper.js v1.4.3
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2018-10-24T13:07:15.032Z
 */
function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function s(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function h(t,n){for(var i=0;i<n.length;i++){var o=n[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function u(t,n,i){return n&&h(t.prototype,n),i&&h(t,i),t}function a(t){return f(t)||l(t)||p()}function f(t){if(Array.isArray(t)){for(var n=0,i=new Array(t.length);n<t.length;n++)i[n]=t[n];return i}}function l(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function p(){throw new TypeError("Invalid attempt to spread non-iterable instance")}var d="undefined"!==typeof window,v=d?window:{},m="cropper",w="all",g="crop",b="move",x="zoom",M="e",j="w",C="s",X="n",z="ne",S="nw",U="se",I="sw",Q="".concat(m,"-crop"),V="".concat(m,"-disabled"),F="".concat(m,"-hidden"),W="".concat(m,"-hide"),Z="".concat(m,"-invisible"),K="".concat(m,"-modal"),J="".concat(m,"-move"),H="".concat(m,"Action"),D="".concat(m,"Preview"),q="crop",k="move",P="none",B="crop",N="cropend",Y="cropmove",G="cropstart",O="dblclick",L=v.PointerEvent?"pointerdown":"touchstart mousedown",y=v.PointerEvent?"pointermove":"touchmove mousemove",R=v.PointerEvent?"pointerup pointercancel":"touchend touchcancel mouseup",A="ready",$="resize",E="wheel mousewheel DOMMouseScroll",T="zoom",_="image/jpeg",tt=/^(?:e|w|s|n|se|sw|ne|nw|all|crop|move|zoom)$/,nt=/^data:/,it=/^data:image\/jpeg;base64,/,ot=/^(?:img|canvas)$/i,et={viewMode:0,dragMode:q,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},ct='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',rt=Number.isNaN||v.isNaN;function st(t){return"number"===typeof t&&!rt(t)}function ht(t){return"undefined"===typeof t}function ut(t){return"object"===r(t)&&null!==t}var at=Object.prototype.hasOwnProperty;function ft(t){if(!ut(t))return!1;try{var n=t.constructor,i=n.prototype;return n&&i&&at.call(i,"isPrototypeOf")}catch(o){return!1}}function lt(t){return"function"===typeof t}function pt(t,n){if(t&&lt(n))if(Array.isArray(t)||st(t.length)){var i,o=t.length;for(i=0;i<o;i+=1)if(!1===n.call(t,t[i],i,t))break}else ut(t)&&Object.keys(t).forEach(function(i){n.call(t,t[i],i,t)});return t}var dt=Object.assign||function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return ut(t)&&i.length>0&&i.forEach(function(n){ut(n)&&Object.keys(n).forEach(function(i){t[i]=n[i]})}),t},vt=/\.\d*(?:0|9){12}\d*$/;function mt(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return vt.test(t)?Math.round(t*n)/n:t}var wt=/^(?:width|height|left|top|marginLeft|marginTop)$/;function gt(t,n){var i=t.style;pt(n,function(t,n){wt.test(n)&&st(t)&&(t+="px"),i[n]=t})}function bt(t,n){return t.classList?t.classList.contains(n):t.className.indexOf(n)>-1}function xt(t,n){if(n)if(st(t.length))pt(t,function(t){xt(t,n)});else if(t.classList)t.classList.add(n);else{var i=t.className.trim();i?i.indexOf(n)<0&&(t.className="".concat(i," ").concat(n)):t.className=n}}function Mt(t,n){n&&(st(t.length)?pt(t,function(t){Mt(t,n)}):t.classList?t.classList.remove(n):t.className.indexOf(n)>=0&&(t.className=t.className.replace(n,"")))}function jt(t,n,i){n&&(st(t.length)?pt(t,function(t){jt(t,n,i)}):i?xt(t,n):Mt(t,n))}var Ct=/([a-z\d])([A-Z])/g;function Xt(t){return t.replace(Ct,"$1-$2").toLowerCase()}function zt(t,n){return ut(t[n])?t[n]:t.dataset?t.dataset[n]:t.getAttribute("data-".concat(Xt(n)))}function St(t,n,i){ut(i)?t[n]=i:t.dataset?t.dataset[n]=i:t.setAttribute("data-".concat(Xt(n)),i)}function Ut(t,n){if(ut(t[n]))try{delete t[n]}catch(i){t[n]=void 0}else if(t.dataset)try{delete t.dataset[n]}catch(i){t.dataset[n]=void 0}else t.removeAttribute("data-".concat(Xt(n)))}var It=/\s\s*/,Qt=function(){var t=!1;if(d){var n=!1,i=function(){},o=Object.defineProperty({},"once",{get:function(){return t=!0,n},set:function(t){n=t}});v.addEventListener("test",i,o),v.removeEventListener("test",i,o)}return t}();function Vt(t,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},e=i;n.trim().split(It).forEach(function(n){if(!Qt){var c=t.listeners;c&&c[n]&&c[n][i]&&(e=c[n][i],delete c[n][i],0===Object.keys(c[n]).length&&delete c[n],0===Object.keys(c).length&&delete t.listeners)}t.removeEventListener(n,e,o)})}function Ft(t,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},e=i;n.trim().split(It).forEach(function(n){if(o.once&&!Qt){var c=t.listeners,r=void 0===c?{}:c;e=function(){delete r[n][i],t.removeEventListener(n,e,o);for(var c=arguments.length,s=new Array(c),h=0;h<c;h++)s[h]=arguments[h];i.apply(t,s)},r[n]||(r[n]={}),r[n][i]&&t.removeEventListener(n,r[n][i],o),r[n][i]=e,t.listeners=r}t.addEventListener(n,e,o)})}function Wt(t,n,i){var o;return lt(Event)&&lt(CustomEvent)?o=new CustomEvent(n,{detail:i,bubbles:!0,cancelable:!0}):(o=document.createEvent("CustomEvent"),o.initCustomEvent(n,!0,!0,i)),t.dispatchEvent(o)}function Zt(t){var n=t.getBoundingClientRect();return{left:n.left+(window.pageXOffset-document.documentElement.clientLeft),top:n.top+(window.pageYOffset-document.documentElement.clientTop)}}var Kt=v.location,Jt=/^(https?:)\/\/([^:\/?#]+):?(\d*)/i;function Ht(t){var n=t.match(Jt);return n&&(n[1]!==Kt.protocol||n[2]!==Kt.hostname||n[3]!==Kt.port)}function Dt(t){var n="timestamp=".concat((new Date).getTime());return t+(-1===t.indexOf("?")?"?":"&")+n}function qt(t){var n=t.rotate,i=t.scaleX,o=t.scaleY,e=t.translateX,c=t.translateY,r=[];st(e)&&0!==e&&r.push("translateX(".concat(e,"px)")),st(c)&&0!==c&&r.push("translateY(".concat(c,"px)")),st(n)&&0!==n&&r.push("rotate(".concat(n,"deg)")),st(i)&&1!==i&&r.push("scaleX(".concat(i,")")),st(o)&&1!==o&&r.push("scaleY(".concat(o,")"));var s=r.length?r.join(" "):"none";return{WebkitTransform:s,msTransform:s,transform:s}}function kt(t){var n=dt({},t),i=[];return pt(t,function(t,o){delete n[o],pt(n,function(n){var o=Math.abs(t.startX-n.startX),e=Math.abs(t.startY-n.startY),c=Math.abs(t.endX-n.endX),r=Math.abs(t.endY-n.endY),s=Math.sqrt(o*o+e*e),h=Math.sqrt(c*c+r*r),u=(h-s)/s;i.push(u)})}),i.sort(function(t,n){return Math.abs(t)<Math.abs(n)}),i[0]}function Pt(t,n){var i=t.pageX,o=t.pageY,e={endX:i,endY:o};return n?e:dt({startX:i,startY:o},e)}function Bt(t){var n=0,i=0,o=0;return pt(t,function(t){var e=t.startX,c=t.startY;n+=e,i+=c,o+=1}),n/=o,i/=o,{pageX:n,pageY:i}}var Nt=Number.isFinite||v.isFinite;function Yt(t){var n=t.aspectRatio,i=t.height,o=t.width,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",c=function(t){return Nt(t)&&t>0};if(c(o)&&c(i)){var r=i*n;"contain"===e&&r>o||"cover"===e&&r<o?i=o/n:o=i*n}else c(o)?i=o/n:c(i)&&(o=i*n);return{width:o,height:i}}function Gt(t){var n=t.width,i=t.height,o=t.degree;if(o=Math.abs(o)%180,90===o)return{width:i,height:n};var e=o%90*Math.PI/180,c=Math.sin(e),r=Math.cos(e),s=n*r+i*c,h=n*c+i*r;return o>90?{width:h,height:s}:{width:s,height:h}}function Ot(t,n,i,o){var e=n.aspectRatio,c=n.naturalWidth,r=n.naturalHeight,s=n.rotate,h=void 0===s?0:s,u=n.scaleX,f=void 0===u?1:u,l=n.scaleY,p=void 0===l?1:l,d=i.aspectRatio,v=i.naturalWidth,m=i.naturalHeight,w=o.fillColor,g=void 0===w?"transparent":w,b=o.imageSmoothingEnabled,x=void 0===b||b,M=o.imageSmoothingQuality,j=void 0===M?"low":M,C=o.maxWidth,X=void 0===C?1/0:C,z=o.maxHeight,S=void 0===z?1/0:z,U=o.minWidth,I=void 0===U?0:U,Q=o.minHeight,V=void 0===Q?0:Q,F=document.createElement("canvas"),W=F.getContext("2d"),Z=Yt({aspectRatio:d,width:X,height:S}),K=Yt({aspectRatio:d,width:I,height:V},"cover"),J=Math.min(Z.width,Math.max(K.width,v)),H=Math.min(Z.height,Math.max(K.height,m)),D=Yt({aspectRatio:e,width:X,height:S}),q=Yt({aspectRatio:e,width:I,height:V},"cover"),k=Math.min(D.width,Math.max(q.width,c)),P=Math.min(D.height,Math.max(q.height,r)),B=[-k/2,-P/2,k,P];return F.width=mt(J),F.height=mt(H),W.fillStyle=g,W.fillRect(0,0,J,H),W.save(),W.translate(J/2,H/2),W.rotate(h*Math.PI/180),W.scale(f,p),W.imageSmoothingEnabled=x,W.imageSmoothingQuality=j,W.drawImage.apply(W,[t].concat(a(B.map(function(t){return Math.floor(mt(t))})))),W.restore(),F}var Lt=String.fromCharCode;function yt(t,n,i){var o,e="";for(i+=n,o=n;o<i;o+=1)e+=Lt(t.getUint8(o));return e}var Rt=/^data:.*,/;function At(t){var n=t.replace(Rt,""),i=atob(n),o=new ArrayBuffer(i.length),e=new Uint8Array(o);return pt(e,function(t,n){e[n]=i.charCodeAt(n)}),o}function $t(t,n){var i=[],o=8192,e=new Uint8Array(t);while(e.length>0)i.push(Lt.apply(void 0,a(e.subarray(0,o)))),e=e.subarray(o);return"data:".concat(n,";base64,").concat(btoa(i.join("")))}function Et(t){var n,i=new DataView(t);try{var o,e,c;if(255===i.getUint8(0)&&216===i.getUint8(1)){var r=i.byteLength,s=2;while(s+1<r){if(255===i.getUint8(s)&&225===i.getUint8(s+1)){e=s;break}s+=1}}if(e){var h=e+4,u=e+10;if("Exif"===yt(i,h,4)){var a=i.getUint16(u);if(o=18761===a,(o||19789===a)&&42===i.getUint16(u+2,o)){var f=i.getUint32(u+4,o);f>=8&&(c=u+f)}}}if(c){var l,p,d=i.getUint16(c,o);for(p=0;p<d;p+=1)if(l=c+12*p+2,274===i.getUint16(l,o)){l+=8,n=i.getUint16(l,o),i.setUint16(l,1,o);break}}}catch(v){n=1}return n}function Tt(t){var n=0,i=1,o=1;switch(t){case 2:i=-1;break;case 3:n=-180;break;case 4:o=-1;break;case 5:n=90,o=-1;break;case 6:n=90;break;case 7:n=90,i=-1;break;case 8:n=-90;break;default:}return{rotate:n,scaleX:i,scaleY:o}}var _t={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.element,n=this.options,i=this.container,o=this.cropper;xt(o,F),Mt(t,F);var e={width:Math.max(i.offsetWidth,Number(n.minContainerWidth)||200),height:Math.max(i.offsetHeight,Number(n.minContainerHeight)||100)};this.containerData=e,gt(o,{width:e.width,height:e.height}),xt(t,F),Mt(o,F)},initCanvas:function(){var t=this.containerData,n=this.imageData,i=this.options.viewMode,o=Math.abs(n.rotate)%180===90,e=o?n.naturalHeight:n.naturalWidth,c=o?n.naturalWidth:n.naturalHeight,r=e/c,s=t.width,h=t.height;t.height*r>t.width?3===i?s=t.height*r:h=t.width/r:3===i?h=t.width/r:s=t.height*r;var u={aspectRatio:r,naturalWidth:e,naturalHeight:c,width:s,height:h};u.left=(t.width-s)/2,u.top=(t.height-h)/2,u.oldLeft=u.left,u.oldTop=u.top,this.canvasData=u,this.limited=1===i||2===i,this.limitCanvas(!0,!0),this.initialImageData=dt({},n),this.initialCanvasData=dt({},u)},limitCanvas:function(t,n){var i=this.options,o=this.containerData,e=this.canvasData,c=this.cropBoxData,r=i.viewMode,s=e.aspectRatio,h=this.cropped&&c;if(t){var u=Number(i.minCanvasWidth)||0,a=Number(i.minCanvasHeight)||0;r>1?(u=Math.max(u,o.width),a=Math.max(a,o.height),3===r&&(a*s>u?u=a*s:a=u/s)):r>0&&(u?u=Math.max(u,h?c.width:0):a?a=Math.max(a,h?c.height:0):h&&(u=c.width,a=c.height,a*s>u?u=a*s:a=u/s));var f=Yt({aspectRatio:s,width:u,height:a});u=f.width,a=f.height,e.minWidth=u,e.minHeight=a,e.maxWidth=1/0,e.maxHeight=1/0}if(n)if(r>(h?0:1)){var l=o.width-e.width,p=o.height-e.height;e.minLeft=Math.min(0,l),e.minTop=Math.min(0,p),e.maxLeft=Math.max(0,l),e.maxTop=Math.max(0,p),h&&this.limited&&(e.minLeft=Math.min(c.left,c.left+(c.width-e.width)),e.minTop=Math.min(c.top,c.top+(c.height-e.height)),e.maxLeft=c.left,e.maxTop=c.top,2===r&&(e.width>=o.width&&(e.minLeft=Math.min(0,l),e.maxLeft=Math.max(0,l)),e.height>=o.height&&(e.minTop=Math.min(0,p),e.maxTop=Math.max(0,p))))}else e.minLeft=-e.width,e.minTop=-e.height,e.maxLeft=o.width,e.maxTop=o.height},renderCanvas:function(t,n){var i=this.canvasData,o=this.imageData;if(n){var e=Gt({width:o.naturalWidth*Math.abs(o.scaleX||1),height:o.naturalHeight*Math.abs(o.scaleY||1),degree:o.rotate||0}),c=e.width,r=e.height,s=i.width*(c/i.naturalWidth),h=i.height*(r/i.naturalHeight);i.left-=(s-i.width)/2,i.top-=(h-i.height)/2,i.width=s,i.height=h,i.aspectRatio=c/r,i.naturalWidth=c,i.naturalHeight=r,this.limitCanvas(!0,!1)}(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCanvas(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,gt(this.canvas,dt({width:i.width,height:i.height},qt({translateX:i.left,translateY:i.top}))),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(t){var n=this.canvasData,i=this.imageData,o=i.naturalWidth*(n.width/n.naturalWidth),e=i.naturalHeight*(n.height/n.naturalHeight);dt(i,{width:o,height:e,left:(n.width-o)/2,top:(n.height-e)/2}),gt(this.image,dt({width:i.width,height:i.height},qt(dt({translateX:i.left,translateY:i.top},i)))),t&&this.output()},initCropBox:function(){var t=this.options,n=this.canvasData,i=t.aspectRatio||t.initialAspectRatio,o=Number(t.autoCropArea)||.8,e={width:n.width,height:n.height};i&&(n.height*i>n.width?e.height=e.width/i:e.width=e.height*i),this.cropBoxData=e,this.limitCropBox(!0,!0),e.width=Math.min(Math.max(e.width,e.minWidth),e.maxWidth),e.height=Math.min(Math.max(e.height,e.minHeight),e.maxHeight),e.width=Math.max(e.minWidth,e.width*o),e.height=Math.max(e.minHeight,e.height*o),e.left=n.left+(n.width-e.width)/2,e.top=n.top+(n.height-e.height)/2,e.oldLeft=e.left,e.oldTop=e.top,this.initialCropBoxData=dt({},e)},limitCropBox:function(t,n){var i=this.options,o=this.containerData,e=this.canvasData,c=this.cropBoxData,r=this.limited,s=i.aspectRatio;if(t){var h=Number(i.minCropBoxWidth)||0,u=Number(i.minCropBoxHeight)||0,a=r?Math.min(o.width,e.width,e.width+e.left,o.width-e.left):o.width,f=r?Math.min(o.height,e.height,e.height+e.top,o.height-e.top):o.height;h=Math.min(h,o.width),u=Math.min(u,o.height),s&&(h&&u?u*s>h?u=h/s:h=u*s:h?u=h/s:u&&(h=u*s),f*s>a?f=a/s:a=f*s),c.minWidth=Math.min(h,a),c.minHeight=Math.min(u,f),c.maxWidth=a,c.maxHeight=f}n&&(r?(c.minLeft=Math.max(0,e.left),c.minTop=Math.max(0,e.top),c.maxLeft=Math.min(o.width,e.left+e.width)-c.width,c.maxTop=Math.min(o.height,e.top+e.height)-c.height):(c.minLeft=0,c.minTop=0,c.maxLeft=o.width-c.width,c.maxTop=o.height-c.height))},renderCropBox:function(){var t=this.options,n=this.containerData,i=this.cropBoxData;(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCropBox(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,t.movable&&t.cropBoxMovable&&St(this.face,H,i.width>=n.width&&i.height>=n.height?b:w),gt(this.cropBox,dt({width:i.width,height:i.height},qt({translateX:i.left,translateY:i.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),Wt(this.element,B,this.getData())}},tn={initPreview:function(){var t=this.crossOrigin,n=this.options.preview,i=t?this.crossOriginUrl:this.url,o=document.createElement("img");if(t&&(o.crossOrigin=t),o.src=i,this.viewBox.appendChild(o),this.viewBoxImage=o,n){var e=n;"string"===typeof n?e=this.element.ownerDocument.querySelectorAll(n):n.querySelector&&(e=[n]),this.previews=e,pt(e,function(n){var o=document.createElement("img");St(n,D,{width:n.offsetWidth,height:n.offsetHeight,html:n.innerHTML}),t&&(o.crossOrigin=t),o.src=i,o.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',n.innerHTML="",n.appendChild(o)})}},resetPreview:function(){pt(this.previews,function(t){var n=zt(t,D);gt(t,{width:n.width,height:n.height}),t.innerHTML=n.html,Ut(t,D)})},preview:function(){var t=this.imageData,n=this.canvasData,i=this.cropBoxData,o=i.width,e=i.height,c=t.width,r=t.height,s=i.left-n.left-t.left,h=i.top-n.top-t.top;this.cropped&&!this.disabled&&(gt(this.viewBoxImage,dt({width:c,height:r},qt(dt({translateX:-s,translateY:-h},t)))),pt(this.previews,function(n){var i=zt(n,D),u=i.width,a=i.height,f=u,l=a,p=1;o&&(p=u/o,l=e*p),e&&l>a&&(p=a/e,f=o*p,l=a),gt(n,{width:f,height:l}),gt(n.getElementsByTagName("img")[0],dt({width:c*p,height:r*p},qt(dt({translateX:-s*p,translateY:-h*p},t))))}))}},nn={bind:function(){var t=this.element,n=this.options,i=this.cropper;lt(n.cropstart)&&Ft(t,G,n.cropstart),lt(n.cropmove)&&Ft(t,Y,n.cropmove),lt(n.cropend)&&Ft(t,N,n.cropend),lt(n.crop)&&Ft(t,B,n.crop),lt(n.zoom)&&Ft(t,T,n.zoom),Ft(i,L,this.onCropStart=this.cropStart.bind(this)),n.zoomable&&n.zoomOnWheel&&Ft(i,E,this.onWheel=this.wheel.bind(this)),n.toggleDragModeOnDblclick&&Ft(i,O,this.onDblclick=this.dblclick.bind(this)),Ft(t.ownerDocument,y,this.onCropMove=this.cropMove.bind(this)),Ft(t.ownerDocument,R,this.onCropEnd=this.cropEnd.bind(this)),n.responsive&&Ft(window,$,this.onResize=this.resize.bind(this))},unbind:function(){var t=this.element,n=this.options,i=this.cropper;lt(n.cropstart)&&Vt(t,G,n.cropstart),lt(n.cropmove)&&Vt(t,Y,n.cropmove),lt(n.cropend)&&Vt(t,N,n.cropend),lt(n.crop)&&Vt(t,B,n.crop),lt(n.zoom)&&Vt(t,T,n.zoom),Vt(i,L,this.onCropStart),n.zoomable&&n.zoomOnWheel&&Vt(i,E,this.onWheel),n.toggleDragModeOnDblclick&&Vt(i,O,this.onDblclick),Vt(t.ownerDocument,y,this.onCropMove),Vt(t.ownerDocument,R,this.onCropEnd),n.responsive&&Vt(window,$,this.onResize)}},on={resize:function(){var t=this.options,n=this.container,i=this.containerData,o=Number(t.minContainerWidth)||200,e=Number(t.minContainerHeight)||100;if(!(this.disabled||i.width<=o||i.height<=e)){var c,r,s=n.offsetWidth/i.width;if(1!==s||n.offsetHeight!==i.height)t.restore&&(c=this.getCanvasData(),r=this.getCropBoxData()),this.render(),t.restore&&(this.setCanvasData(pt(c,function(t,n){c[n]=t*s})),this.setCropBoxData(pt(r,function(t,n){r[n]=t*s})))}},dblclick:function(){this.disabled||this.options.dragMode===P||this.setDragMode(bt(this.dragBox,Q)?k:q)},wheel:function(t){var n=this,i=Number(this.options.wheelZoomRatio)||.1,o=1;this.disabled||(t.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout(function(){n.wheeling=!1},50),t.deltaY?o=t.deltaY>0?1:-1:t.wheelDelta?o=-t.wheelDelta/120:t.detail&&(o=t.detail>0?1:-1),this.zoom(-o*i,t)))},cropStart:function(t){if(!this.disabled){var n,i=this.options,o=this.pointers;t.changedTouches?pt(t.changedTouches,function(t){o[t.identifier]=Pt(t)}):o[t.pointerId||0]=Pt(t),n=Object.keys(o).length>1&&i.zoomable&&i.zoomOnTouch?x:zt(t.target,H),tt.test(n)&&!1!==Wt(this.element,G,{originalEvent:t,action:n})&&(t.preventDefault(),this.action=n,this.cropping=!1,n===g&&(this.cropping=!0,xt(this.dragBox,K)))}},cropMove:function(t){var n=this.action;if(!this.disabled&&n){var i=this.pointers;t.preventDefault(),!1!==Wt(this.element,Y,{originalEvent:t,action:n})&&(t.changedTouches?pt(t.changedTouches,function(t){dt(i[t.identifier]||{},Pt(t,!0))}):dt(i[t.pointerId||0]||{},Pt(t,!0)),this.change(t))}},cropEnd:function(t){if(!this.disabled){var n=this.action,i=this.pointers;t.changedTouches?pt(t.changedTouches,function(t){delete i[t.identifier]}):delete i[t.pointerId||0],n&&(t.preventDefault(),Object.keys(i).length||(this.action=""),this.cropping&&(this.cropping=!1,jt(this.dragBox,K,this.cropped&&this.options.modal)),Wt(this.element,N,{originalEvent:t,action:n}))}}},en={change:function(t){var n,i=this.options,o=this.canvasData,e=this.containerData,c=this.cropBoxData,r=this.pointers,s=this.action,h=i.aspectRatio,u=c.left,a=c.top,f=c.width,l=c.height,p=u+f,d=a+l,v=0,m=0,Q=e.width,V=e.height,W=!0;!h&&t.shiftKey&&(h=f&&l?f/l:1),this.limited&&(v=c.minLeft,m=c.minTop,Q=v+Math.min(e.width,o.width,o.left+o.width),V=m+Math.min(e.height,o.height,o.top+o.height));var Z=r[Object.keys(r)[0]],K={x:Z.endX-Z.startX,y:Z.endY-Z.startY},J=function(t){switch(t){case M:p+K.x>Q&&(K.x=Q-p);break;case j:u+K.x<v&&(K.x=v-u);break;case X:a+K.y<m&&(K.y=m-a);break;case C:d+K.y>V&&(K.y=V-d);break;default:}};switch(s){case w:u+=K.x,a+=K.y;break;case M:if(K.x>=0&&(p>=Q||h&&(a<=m||d>=V))){W=!1;break}J(M),f+=K.x,f<0&&(s=j,f=-f,u-=f),h&&(l=f/h,a+=(c.height-l)/2);break;case X:if(K.y<=0&&(a<=m||h&&(u<=v||p>=Q))){W=!1;break}J(X),l-=K.y,a+=K.y,l<0&&(s=C,l=-l,a-=l),h&&(f=l*h,u+=(c.width-f)/2);break;case j:if(K.x<=0&&(u<=v||h&&(a<=m||d>=V))){W=!1;break}J(j),f-=K.x,u+=K.x,f<0&&(s=M,f=-f,u-=f),h&&(l=f/h,a+=(c.height-l)/2);break;case C:if(K.y>=0&&(d>=V||h&&(u<=v||p>=Q))){W=!1;break}J(C),l+=K.y,l<0&&(s=X,l=-l,a-=l),h&&(f=l*h,u+=(c.width-f)/2);break;case z:if(h){if(K.y<=0&&(a<=m||p>=Q)){W=!1;break}J(X),l-=K.y,a+=K.y,f=l*h}else J(X),J(M),K.x>=0?p<Q?f+=K.x:K.y<=0&&a<=m&&(W=!1):f+=K.x,K.y<=0?a>m&&(l-=K.y,a+=K.y):(l-=K.y,a+=K.y);f<0&&l<0?(s=I,l=-l,f=-f,a-=l,u-=f):f<0?(s=S,f=-f,u-=f):l<0&&(s=U,l=-l,a-=l);break;case S:if(h){if(K.y<=0&&(a<=m||u<=v)){W=!1;break}J(X),l-=K.y,a+=K.y,f=l*h,u+=c.width-f}else J(X),J(j),K.x<=0?u>v?(f-=K.x,u+=K.x):K.y<=0&&a<=m&&(W=!1):(f-=K.x,u+=K.x),K.y<=0?a>m&&(l-=K.y,a+=K.y):(l-=K.y,a+=K.y);f<0&&l<0?(s=U,l=-l,f=-f,a-=l,u-=f):f<0?(s=z,f=-f,u-=f):l<0&&(s=I,l=-l,a-=l);break;case I:if(h){if(K.x<=0&&(u<=v||d>=V)){W=!1;break}J(j),f-=K.x,u+=K.x,l=f/h}else J(C),J(j),K.x<=0?u>v?(f-=K.x,u+=K.x):K.y>=0&&d>=V&&(W=!1):(f-=K.x,u+=K.x),K.y>=0?d<V&&(l+=K.y):l+=K.y;f<0&&l<0?(s=z,l=-l,f=-f,a-=l,u-=f):f<0?(s=U,f=-f,u-=f):l<0&&(s=S,l=-l,a-=l);break;case U:if(h){if(K.x>=0&&(p>=Q||d>=V)){W=!1;break}J(M),f+=K.x,l=f/h}else J(C),J(M),K.x>=0?p<Q?f+=K.x:K.y>=0&&d>=V&&(W=!1):f+=K.x,K.y>=0?d<V&&(l+=K.y):l+=K.y;f<0&&l<0?(s=S,l=-l,f=-f,a-=l,u-=f):f<0?(s=I,f=-f,u-=f):l<0&&(s=z,l=-l,a-=l);break;case b:this.move(K.x,K.y),W=!1;break;case x:this.zoom(kt(r),t),W=!1;break;case g:if(!K.x||!K.y){W=!1;break}n=Zt(this.cropper),u=Z.startX-n.left,a=Z.startY-n.top,f=c.minWidth,l=c.minHeight,K.x>0?s=K.y>0?U:z:K.x<0&&(u-=f,s=K.y>0?I:S),K.y<0&&(a-=l),this.cropped||(Mt(this.cropBox,F),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break;default:}W&&(c.width=f,c.height=l,c.left=u,c.top=a,this.action=s,this.renderCropBox()),pt(r,function(t){t.startX=t.endX,t.startY=t.endY})}},cn={crop:function(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&xt(this.dragBox,K),Mt(this.cropBox,F),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=dt({},this.initialImageData),this.canvasData=dt({},this.initialCanvasData),this.cropBoxData=dt({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(dt(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),Mt(this.dragBox,K),xt(this.cropBox,F)),this},replace:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&t&&(this.isImg&&(this.element.src=t),n?(this.url=t,this.image.src=t,this.ready&&(this.viewBoxImage.src=t,pt(this.previews,function(n){n.getElementsByTagName("img")[0].src=t}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(t))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,Mt(this.cropper,V)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,xt(this.cropper,V)),this},destroy:function(){var t=this.element;return t[m]?(t[m]=void 0,this.isImg&&this.replaced&&(t.src=this.originalUrl),this.uncreate(),this):this},move:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=this.canvasData,o=i.left,e=i.top;return this.moveTo(ht(t)?t:o+Number(t),ht(n)?n:e+Number(n))},moveTo:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=this.canvasData,o=!1;return t=Number(t),n=Number(n),this.ready&&!this.disabled&&this.options.movable&&(st(t)&&(i.left=t,o=!0),st(n)&&(i.top=n,o=!0),o&&this.renderCanvas(!0)),this},zoom:function(t,n){var i=this.canvasData;return t=Number(t),t=t<0?1/(1-t):1+t,this.zoomTo(i.width*t/i.naturalWidth,null,n)},zoomTo:function(t,n,i){var o=this.options,e=this.canvasData,c=e.width,r=e.height,s=e.naturalWidth,h=e.naturalHeight;if(t=Number(t),t>=0&&this.ready&&!this.disabled&&o.zoomable){var u=s*t,a=h*t;if(!1===Wt(this.element,T,{ratio:t,oldRatio:c/s,originalEvent:i}))return this;if(i){var f=this.pointers,l=Zt(this.cropper),p=f&&Object.keys(f).length?Bt(f):{pageX:i.pageX,pageY:i.pageY};e.left-=(u-c)*((p.pageX-l.left-e.left)/c),e.top-=(a-r)*((p.pageY-l.top-e.top)/r)}else ft(n)&&st(n.x)&&st(n.y)?(e.left-=(u-c)*((n.x-e.left)/c),e.top-=(a-r)*((n.y-e.top)/r)):(e.left-=(u-c)/2,e.top-=(a-r)/2);e.width=u,e.height=a,this.renderCanvas(!0)}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t))},rotateTo:function(t){return t=Number(t),st(t)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=t%360,this.renderCanvas(!0,!0)),this},scaleX:function(t){var n=this.imageData.scaleY;return this.scale(t,st(n)?n:1)},scaleY:function(t){var n=this.imageData.scaleX;return this.scale(st(n)?n:1,t)},scale:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=this.imageData,o=!1;return t=Number(t),n=Number(n),this.ready&&!this.disabled&&this.options.scalable&&(st(t)&&(i.scaleX=t,o=!0),st(n)&&(i.scaleY=n,o=!0),o&&this.renderCanvas(!0,!0)),this},getData:function(){var t,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.options,o=this.imageData,e=this.canvasData,c=this.cropBoxData;if(this.ready&&this.cropped){t={x:c.left-e.left,y:c.top-e.top,width:c.width,height:c.height};var r=o.width/o.naturalWidth;if(pt(t,function(n,i){t[i]=n/r}),n){var s=Math.round(t.y+t.height),h=Math.round(t.x+t.width);t.x=Math.round(t.x),t.y=Math.round(t.y),t.width=h-t.x,t.height=s-t.y}}else t={x:0,y:0,width:0,height:0};return i.rotatable&&(t.rotate=o.rotate||0),i.scalable&&(t.scaleX=o.scaleX||1,t.scaleY=o.scaleY||1),t},setData:function(t){var n=this.options,i=this.imageData,o=this.canvasData,e={};if(this.ready&&!this.disabled&&ft(t)){var c=!1;n.rotatable&&st(t.rotate)&&t.rotate!==i.rotate&&(i.rotate=t.rotate,c=!0),n.scalable&&(st(t.scaleX)&&t.scaleX!==i.scaleX&&(i.scaleX=t.scaleX,c=!0),st(t.scaleY)&&t.scaleY!==i.scaleY&&(i.scaleY=t.scaleY,c=!0)),c&&this.renderCanvas(!0,!0);var r=i.width/i.naturalWidth;st(t.x)&&(e.left=t.x*r+o.left),st(t.y)&&(e.top=t.y*r+o.top),st(t.width)&&(e.width=t.width*r),st(t.height)&&(e.height=t.height*r),this.setCropBoxData(e)}return this},getContainerData:function(){return this.ready?dt({},this.containerData):{}},getImageData:function(){return this.sized?dt({},this.imageData):{}},getCanvasData:function(){var t=this.canvasData,n={};return this.ready&&pt(["left","top","width","height","naturalWidth","naturalHeight"],function(i){n[i]=t[i]}),n},setCanvasData:function(t){var n=this.canvasData,i=n.aspectRatio;return this.ready&&!this.disabled&&ft(t)&&(st(t.left)&&(n.left=t.left),st(t.top)&&(n.top=t.top),st(t.width)?(n.width=t.width,n.height=t.width/i):st(t.height)&&(n.height=t.height,n.width=t.height*i),this.renderCanvas(!0)),this},getCropBoxData:function(){var t,n=this.cropBoxData;return this.ready&&this.cropped&&(t={left:n.left,top:n.top,width:n.width,height:n.height}),t||{}},setCropBoxData:function(t){var n,i,o=this.cropBoxData,e=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&ft(t)&&(st(t.left)&&(o.left=t.left),st(t.top)&&(o.top=t.top),st(t.width)&&t.width!==o.width&&(n=!0,o.width=t.width),st(t.height)&&t.height!==o.height&&(i=!0,o.height=t.height),e&&(n?o.height=o.width/e:i&&(o.width=o.height*e)),this.renderCropBox()),this},getCroppedCanvas:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var n=this.canvasData,i=Ot(this.image,this.imageData,n,t);if(!this.cropped)return i;var o=this.getData(),e=o.x,c=o.y,r=o.width,s=o.height,h=i.width/Math.floor(n.naturalWidth);1!==h&&(e*=h,c*=h,r*=h,s*=h);var u=r/s,f=Yt({aspectRatio:u,width:t.maxWidth||1/0,height:t.maxHeight||1/0}),l=Yt({aspectRatio:u,width:t.minWidth||0,height:t.minHeight||0},"cover"),p=Yt({aspectRatio:u,width:t.width||(1!==h?i.width:r),height:t.height||(1!==h?i.height:s)}),d=p.width,v=p.height;d=Math.min(f.width,Math.max(l.width,d)),v=Math.min(f.height,Math.max(l.height,v));var m=document.createElement("canvas"),w=m.getContext("2d");m.width=mt(d),m.height=mt(v),w.fillStyle=t.fillColor||"transparent",w.fillRect(0,0,d,v);var g=t.imageSmoothingEnabled,b=void 0===g||g,x=t.imageSmoothingQuality;w.imageSmoothingEnabled=b,x&&(w.imageSmoothingQuality=x);var M,j,C,X,z,S,U=i.width,I=i.height,Q=e,V=c;Q<=-r||Q>U?(Q=0,M=0,C=0,z=0):Q<=0?(C=-Q,Q=0,M=Math.min(U,r+Q),z=M):Q<=U&&(C=0,M=Math.min(r,U-Q),z=M),M<=0||V<=-s||V>I?(V=0,j=0,X=0,S=0):V<=0?(X=-V,V=0,j=Math.min(I,s+V),S=j):V<=I&&(X=0,j=Math.min(s,I-V),S=j);var F=[Q,V,M,j];if(z>0&&S>0){var W=d/r;F.push(C*W,X*W,z*W,S*W)}return w.drawImage.apply(w,[i].concat(a(F.map(function(t){return Math.floor(mt(t))})))),m},setAspectRatio:function(t){var n=this.options;return this.disabled||ht(t)||(n.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(t){var n=this.options,i=this.dragBox,o=this.face;if(this.ready&&!this.disabled){var e=t===q,c=n.movable&&t===k;t=e||c?t:P,n.dragMode=t,St(i,H,t),jt(i,Q,e),jt(i,J,c),n.cropBoxMovable||(St(o,H,t),jt(o,Q,e),jt(o,J,c))}return this}},rn=v.Cropper,sn=function(){function t(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(s(this,t),!n||!ot.test(n.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=n,this.options=dt({},et,ft(i)&&i),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return u(t,[{key:"init",value:function(){var t,n=this.element,i=n.tagName.toLowerCase();if(!n[m]){if(n[m]=this,"img"===i){if(this.isImg=!0,t=n.getAttribute("src")||"",this.originalUrl=t,!t)return;t=n.src}else"canvas"===i&&window.HTMLCanvasElement&&(t=n.toDataURL());this.load(t)}}},{key:"load",value:function(t){var n=this;if(t){this.url=t,this.imageData={};var i=this.element,o=this.options;if(o.rotatable||o.scalable||(o.checkOrientation=!1),o.checkOrientation&&window.ArrayBuffer)if(nt.test(t))it.test(t)?this.read(At(t)):this.clone();else{var e=new XMLHttpRequest,c=this.clone.bind(this);this.reloading=!0,this.xhr=e,e.ontimeout=c,e.onabort=c,e.onerror=c,e.onprogress=function(){e.getResponseHeader("content-type")!==_&&e.abort()},e.onload=function(){n.read(e.response)},e.onloadend=function(){n.reloading=!1,n.xhr=null},o.checkCrossOrigin&&Ht(t)&&i.crossOrigin&&(t=Dt(t)),e.open("GET",t),e.responseType="arraybuffer",e.withCredentials="use-credentials"===i.crossOrigin,e.send()}else this.clone()}}},{key:"read",value:function(t){var n=this.options,i=this.imageData,o=Et(t),e=0,c=1,r=1;if(o>1){this.url=$t(t,_);var s=Tt(o);e=s.rotate,c=s.scaleX,r=s.scaleY}n.rotatable&&(i.rotate=e),n.scalable&&(i.scaleX=c,i.scaleY=r),this.clone()}},{key:"clone",value:function(){var t,n,i=this.element,o=this.url;this.options.checkCrossOrigin&&Ht(o)&&(t=i.crossOrigin,t?n=o:(t="anonymous",n=Dt(o))),this.crossOrigin=t,this.crossOriginUrl=n;var e=document.createElement("img");t&&(e.crossOrigin=t),e.src=n||o,this.image=e,e.onload=this.start.bind(this),e.onerror=this.stop.bind(this),xt(e,W),i.parentNode.insertBefore(e,i.nextSibling)}},{key:"start",value:function(){var t=this,n=this.isImg?this.element:this.image;n.onload=null,n.onerror=null,this.sizing=!0;var i=v.navigator&&/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(v.navigator.userAgent),o=function(n,i){dt(t.imageData,{naturalWidth:n,naturalHeight:i,aspectRatio:n/i}),t.sizing=!1,t.sized=!0,t.build()};if(!n.naturalWidth||i){var e=document.createElement("img"),c=document.body||document.documentElement;this.sizingImage=e,e.onload=function(){o(e.width,e.height),i||c.removeChild(e)},e.src=n.src,i||(e.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",c.appendChild(e))}else o(n.naturalWidth,n.naturalHeight)}},{key:"stop",value:function(){var t=this.image;t.onload=null,t.onerror=null,t.parentNode.removeChild(t),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var t=this.element,n=this.options,i=this.image,o=t.parentNode,e=document.createElement("div");e.innerHTML=ct;var c=e.querySelector(".".concat(m,"-container")),r=c.querySelector(".".concat(m,"-canvas")),s=c.querySelector(".".concat(m,"-drag-box")),h=c.querySelector(".".concat(m,"-crop-box")),u=h.querySelector(".".concat(m,"-face"));this.container=o,this.cropper=c,this.canvas=r,this.dragBox=s,this.cropBox=h,this.viewBox=c.querySelector(".".concat(m,"-view-box")),this.face=u,r.appendChild(i),xt(t,F),o.insertBefore(c,t.nextSibling),this.isImg||Mt(i,W),this.initPreview(),this.bind(),n.initialAspectRatio=Math.max(0,n.initialAspectRatio)||NaN,n.aspectRatio=Math.max(0,n.aspectRatio)||NaN,n.viewMode=Math.max(0,Math.min(3,Math.round(n.viewMode)))||0,xt(h,F),n.guides||xt(h.getElementsByClassName("".concat(m,"-dashed")),F),n.center||xt(h.getElementsByClassName("".concat(m,"-center")),F),n.background&&xt(c,"".concat(m,"-bg")),n.highlight||xt(u,Z),n.cropBoxMovable&&(xt(u,J),St(u,H,w)),n.cropBoxResizable||(xt(h.getElementsByClassName("".concat(m,"-line")),F),xt(h.getElementsByClassName("".concat(m,"-point")),F)),this.render(),this.ready=!0,this.setDragMode(n.dragMode),n.autoCrop&&this.crop(),this.setData(n.data),lt(n.ready)&&Ft(t,A,n.ready,{once:!0}),Wt(t,A)}}},{key:"unbuild",value:function(){this.ready&&(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),Mt(this.element,F))}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=rn,t}},{key:"setDefaults",value:function(t){dt(et,ft(t)&&t)}}]),t}();dt(sn.prototype,_t,tn,nn,on,en,cn);var hn=sn,un=i("9b5f"),an=i.n(un),fn=(i("5db9"),{props:{imgSrc:{type:String},config:{type:Object},filename:{type:String},quality:{type:Number,default:.6}},data:function(){return{isBegin:!1,cropper:null}},methods:{begin:function(){this.isBegin=!0;var t=this.$refs.cropImg,n=document.body.offsetHeight,i=document.body.offsetWidth;console.dir(t);var o={aspectRatio:1.7,minContainerWidth:i,minContainerHeight:n,preview:".showImg",crop:function(t){console.log(t),console.log(t.detail.y),console.log(t.detail.width),console.log(t.detail.height),console.log(t.detail.rotate),console.log(t.detail.scaleX),console.log(t.detail.scaleY)}},e=Object.assign(o,this.config.options);console.log(e),this.cropper=new hn(t,e)},end:function(){var t=this;console.log("end"),this.cropper.getData(),console.dir(this.cropper.getCroppedCanvas()),this.cropper.getCroppedCanvas().toBlob(function(n){console.log(n);var i=new FormData;i.append("croppedImage",n),console.log(i.get("croppedImage")),t.config.Compression.isTrue?t.beforeCompression(i.get("croppedImage")):t.$emit("post",i.get("croppedImage"))})},beforeCompression:function(t){var n=this,i=new FileReader(t);console.log(t),console.log(i),"image"===t.type.split("/")[0]?(i.onload=function(){var o=i.result,e=new Image;e.src=i.result,e.onload=function(){o.length>0&&(t.size,n.handleCompress(e.src))}},i.readAsDataURL(t)):alert("you should choose an image file")},handleCompress:function(t){var n=this;an()(t,{quality:n.quality}).then(function(t){console.log(t),n.$emit("post",t)})},dataURLtoFile:function(t,n){var i=t.split(","),o=i[0].match(/:(.*?);/)[1],e=atob(i[1]),c=e.length,r=new Uint8Array(c);while(c--)r[c]=e.charCodeAt(c);var s=new FormData;return s.append("croppedImage",new File([r],n,{type:o})),s},convertBase64UrlToBlob:function(t){for(var n=window.atob(t.split(",")[1]),i=new ArrayBuffer(n.length),o=new Uint8Array(i),e=0;e<n.length;e++)o[e]=n.charCodeAt(e);var c=new FormData;return c.append("croppedImage",new Blob([i],{type:"image/jpeg"})),c},cancel:function(){this.$emit("handleCancel")}}}),ln=fn;i("0f12");function pn(t,n,i,o,e,c,r,s){var h,u="function"===typeof t?t.options:t;if(n&&(u.render=n,u.staticRenderFns=i,u._compiled=!0),o&&(u.functional=!0),c&&(u._scopeId="data-v-"+c),r?(h=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},u._ssrRegister=h):e&&(h=s?function(){e.call(this,this.$root.$options.shadowRoot)}:e),h)if(u.functional){u._injectStyles=h;var a=u.render;u.render=function(t,n){return h.call(n),a(t,n)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,h):[h]}return{exports:t,options:u}}var dn=pn(ln,e,c,!1,null,"000fded3",null);dn.options.__file="test-crop.vue";var vn=dn.exports;n["default"]=vn},"2b5c":function(t,n){t.exports=function(t,n){return{value:n,done:!!t}}},"2ca0":function(t,n,i){var o=i("3977"),e=i("bf57"),c=function(t,n){if(e(t),!o(n)&&null!==n)throw TypeError(n+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,o){try{o=i("ccc7")(Function.call,i("1adb").f(Object.prototype,"__proto__").set,2),o(t,[]),n=!(t instanceof Array)}catch(e){n=!0}return function(t,i){return c(t,i),n?t.__proto__=i:o(t,i),t}}({},!1):void 0),check:c}},"2e49":function(t,n,i){"use strict";var o=i("e5e0"),e=i("4fae"),c=i("b92a"),r=i("0d08"),s=i("60be"),h=i("efc2"),u=i("d3b3").f,a=i("1adb").f,f=i("1c73").f,l=i("fb76").trim,p="Number",d=o[p],v=d,m=d.prototype,w=c(i("9fd0")(m))==p,g="trim"in String.prototype,b=function(t){var n=s(t,!1);if("string"==typeof n&&n.length>2){n=g?n.trim():l(n,3);var i,o,e,c=n.charCodeAt(0);if(43===c||45===c){if(i=n.charCodeAt(2),88===i||120===i)return NaN}else if(48===c){switch(n.charCodeAt(1)){case 66:case 98:o=2,e=49;break;case 79:case 111:o=8,e=55;break;default:return+n}for(var r,h=n.slice(2),u=0,a=h.length;u<a;u++)if(r=h.charCodeAt(u),r<48||r>e)return NaN;return parseInt(h,o)}}return+n};if(!d(" 0o1")||!d("0b1")||d("+0x1")){d=function(t){var n=arguments.length<1?0:t,i=this;return i instanceof d&&(w?h(function(){m.valueOf.call(i)}):c(i)!=p)?r(new v(b(n)),i,d):b(n)};for(var x,M=i("6ec3")?u(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),j=0;M.length>j;j++)e(v,x=M[j])&&!e(d,x)&&f(d,x,a(v,x));d.prototype=m,m.constructor=d,i("3560")(o,p,d)}},"2f3f":function(t,n,i){var o=i("3977"),e=i("ee63"),c=i("5a06")("species");t.exports=function(t){var n;return e(t)&&(n=t.constructor,"function"!=typeof n||n!==Array&&!e(n.prototype)||(n=void 0),o(n)&&(n=n[c],null===n&&(n=void 0))),void 0===n?Array:n}},3316:function(t,n,i){"use strict";var o=i("b784"),e=RegExp.prototype.exec,c=String.prototype.replace,r=e,s="lastIndex",h=function(){var t=/a/,n=/b*/g;return e.call(t,"a"),e.call(n,"a"),0!==t[s]||0!==n[s]}(),u=void 0!==/()??/.exec("")[1],a=h||u;a&&(r=function(t){var n,i,r,a,f=this;return u&&(i=new RegExp("^"+f.source+"$(?!\\s)",o.call(f))),h&&(n=f[s]),r=e.call(f,t),h&&r&&(f[s]=f.global?r.index+r[0].length:n),u&&r&&r.length>1&&c.call(r[0],i,function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(r[a]=void 0)}),r}),t.exports=r},3560:function(t,n,i){var o=i("e5e0"),e=i("f5c8"),c=i("4fae"),r=i("bae1")("src"),s="toString",h=Function[s],u=(""+h).split(s);i("26d7").inspectSource=function(t){return h.call(t)},(t.exports=function(t,n,i,s){var h="function"==typeof i;h&&(c(i,"name")||e(i,"name",n)),t[n]!==i&&(h&&(c(i,r)||e(i,r,t[n]?""+t[n]:u.join(String(n)))),t===o?t[n]=i:s?t[n]?t[n]=i:e(t,n,i):(delete t[n],e(t,n,i)))})(Function.prototype,s,function(){return"function"==typeof this&&this[r]||h.call(this)})},3977:function(t,n){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},"3a01":function(t,n,i){"use strict";var o=i("ea35"),e=i("9e9a"),c=i("3560"),r=i("f5c8"),s=i("d3c3"),h=i("9104"),u=i("cf37"),a=i("4625"),f=i("5a06")("iterator"),l=!([].keys&&"next"in[].keys()),p="@@iterator",d="keys",v="values",m=function(){return this};t.exports=function(t,n,i,w,g,b,x){h(i,n,w);var M,j,C,X=function(t){if(!l&&t in I)return I[t];switch(t){case d:return function(){return new i(this,t)};case v:return function(){return new i(this,t)}}return function(){return new i(this,t)}},z=n+" Iterator",S=g==v,U=!1,I=t.prototype,Q=I[f]||I[p]||g&&I[g],V=Q||X(g),F=g?S?X("entries"):V:void 0,W="Array"==n&&I.entries||Q;if(W&&(C=a(W.call(new t)),C!==Object.prototype&&C.next&&(u(C,z,!0),o||"function"==typeof C[f]||r(C,f,m))),S&&Q&&Q.name!==v&&(U=!0,V=function(){return Q.call(this)}),o&&!x||!l&&!U&&I[f]||r(I,f,V),s[n]=V,s[z]=m,g)if(M={values:S?V:X(v),keys:b?V:X(d),entries:F},x)for(j in M)j in I||c(I,j,M[j]);else e(e.P+e.F*(l||U),n,M);return M}},"3c7a":function(t,n){n.f={}.propertyIsEnumerable},"3e25":function(t,n,i){var o=i("bf57"),e=i("1d6d"),c=i("5a06")("species");t.exports=function(t,n){var i,r=o(t).constructor;return void 0===r||void 0==(i=o(r)[c])?n:e(i)}},"3e86":function(t,n,i){var o=i("3977"),e=i("e5e0").document,c=o(e)&&o(e.createElement);t.exports=function(t){return c?e.createElement(t):{}}},4349:function(t,n,i){"use strict";var o=i("e5e0"),e=i("6ec3"),c=i("ea35"),r=i("ca2a"),s=i("f5c8"),h=i("90fe"),u=i("efc2"),a=i("01c1"),f=i("658e"),l=i("6513"),p=i("dbf6"),d=i("d3b3").f,v=i("1c73").f,m=i("a81d"),w=i("cf37"),g="ArrayBuffer",b="DataView",x="prototype",M="Wrong length!",j="Wrong index!",C=o[g],X=o[b],z=o.Math,S=o.RangeError,U=o.Infinity,I=C,Q=z.abs,V=z.pow,F=z.floor,W=z.log,Z=z.LN2,K="buffer",J="byteLength",H="byteOffset",D=e?"_b":K,q=e?"_l":J,k=e?"_o":H;function P(t,n,i){var o,e,c,r=new Array(i),s=8*i-n-1,h=(1<<s)-1,u=h>>1,a=23===n?V(2,-24)-V(2,-77):0,f=0,l=t<0||0===t&&1/t<0?1:0;for(t=Q(t),t!=t||t===U?(e=t!=t?1:0,o=h):(o=F(W(t)/Z),t*(c=V(2,-o))<1&&(o--,c*=2),t+=o+u>=1?a/c:a*V(2,1-u),t*c>=2&&(o++,c/=2),o+u>=h?(e=0,o=h):o+u>=1?(e=(t*c-1)*V(2,n),o+=u):(e=t*V(2,u-1)*V(2,n),o=0));n>=8;r[f++]=255&e,e/=256,n-=8);for(o=o<<n|e,s+=n;s>0;r[f++]=255&o,o/=256,s-=8);return r[--f]|=128*l,r}function B(t,n,i){var o,e=8*i-n-1,c=(1<<e)-1,r=c>>1,s=e-7,h=i-1,u=t[h--],a=127&u;for(u>>=7;s>0;a=256*a+t[h],h--,s-=8);for(o=a&(1<<-s)-1,a>>=-s,s+=n;s>0;o=256*o+t[h],h--,s-=8);if(0===a)a=1-r;else{if(a===c)return o?NaN:u?-U:U;o+=V(2,n),a-=r}return(u?-1:1)*o*V(2,a-n)}function N(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function Y(t){return[255&t]}function G(t){return[255&t,t>>8&255]}function O(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function L(t){return P(t,52,8)}function y(t){return P(t,23,4)}function R(t,n,i){v(t[x],n,{get:function(){return this[i]}})}function A(t,n,i,o){var e=+i,c=p(e);if(c+n>t[q])throw S(j);var r=t[D]._b,s=c+t[k],h=r.slice(s,s+n);return o?h:h.reverse()}function $(t,n,i,o,e,c){var r=+i,s=p(r);if(s+n>t[q])throw S(j);for(var h=t[D]._b,u=s+t[k],a=o(+e),f=0;f<n;f++)h[u+f]=a[c?f:n-f-1]}if(r.ABV){if(!u(function(){C(1)})||!u(function(){new C(-1)})||u(function(){return new C,new C(1.5),new C(NaN),C.name!=g})){C=function(t){return a(this,C),new I(p(t))};for(var E,T=C[x]=I[x],_=d(I),tt=0;_.length>tt;)(E=_[tt++])in C||s(C,E,I[E]);c||(T.constructor=C)}var nt=new X(new C(2)),it=X[x].setInt8;nt.setInt8(0,2147483648),nt.setInt8(1,2147483649),!nt.getInt8(0)&&nt.getInt8(1)||h(X[x],{setInt8:function(t,n){it.call(this,t,n<<24>>24)},setUint8:function(t,n){it.call(this,t,n<<24>>24)}},!0)}else C=function(t){a(this,C,g);var n=p(t);this._b=m.call(new Array(n),0),this[q]=n},X=function(t,n,i){a(this,X,b),a(t,C,b);var o=t[q],e=f(n);if(e<0||e>o)throw S("Wrong offset!");if(i=void 0===i?o-e:l(i),e+i>o)throw S(M);this[D]=t,this[k]=e,this[q]=i},e&&(R(C,J,"_l"),R(X,K,"_b"),R(X,J,"_l"),R(X,H,"_o")),h(X[x],{getInt8:function(t){return A(this,1,t)[0]<<24>>24},getUint8:function(t){return A(this,1,t)[0]},getInt16:function(t){var n=A(this,2,t,arguments[1]);return(n[1]<<8|n[0])<<16>>16},getUint16:function(t){var n=A(this,2,t,arguments[1]);return n[1]<<8|n[0]},getInt32:function(t){return N(A(this,4,t,arguments[1]))},getUint32:function(t){return N(A(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return B(A(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return B(A(this,8,t,arguments[1]),52,8)},setInt8:function(t,n){$(this,1,t,Y,n)},setUint8:function(t,n){$(this,1,t,Y,n)},setInt16:function(t,n){$(this,2,t,G,n,arguments[2])},setUint16:function(t,n){$(this,2,t,G,n,arguments[2])},setInt32:function(t,n){$(this,4,t,O,n,arguments[2])},setUint32:function(t,n){$(this,4,t,O,n,arguments[2])},setFloat32:function(t,n){$(this,4,t,y,n,arguments[2])},setFloat64:function(t,n){$(this,8,t,L,n,arguments[2])}});w(C,g),w(X,b),s(X[x],r.VIEW,!0),n[g]=C,n[b]=X},4625:function(t,n,i){var o=i("4fae"),e=i("5e2a"),c=i("0f4c")("IE_PROTO"),r=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=e(t),o(t,c)?t[c]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?r:null}},"4fae":function(t,n){var i={}.hasOwnProperty;t.exports=function(t,n){return i.call(t,n)}},"51a2":function(t,n){n.f=Object.getOwnPropertySymbols},"52d3":function(t,n,i){"use strict";if(i("6ec3")){var o=i("ea35"),e=i("e5e0"),c=i("efc2"),r=i("9e9a"),s=i("ca2a"),h=i("4349"),u=i("ccc7"),a=i("01c1"),f=i("289e"),l=i("f5c8"),p=i("90fe"),d=i("658e"),v=i("6513"),m=i("dbf6"),w=i("ca1e"),g=i("60be"),b=i("4fae"),x=i("6031"),M=i("3977"),j=i("5e2a"),C=i("dbe5"),X=i("9fd0"),z=i("4625"),S=i("d3b3").f,U=i("1a8b"),I=i("bae1"),Q=i("5a06"),V=i("ef53"),F=i("a970"),W=i("3e25"),Z=i("54e2"),K=i("d3c3"),J=i("a70b"),H=i("c72e"),D=i("a81d"),q=i("ae78"),k=i("1c73"),P=i("1adb"),B=k.f,N=P.f,Y=e.RangeError,G=e.TypeError,O=e.Uint8Array,L="ArrayBuffer",y="Shared"+L,R="BYTES_PER_ELEMENT",A="prototype",$=Array[A],E=h.ArrayBuffer,T=h.DataView,_=V(0),tt=V(2),nt=V(3),it=V(4),ot=V(5),et=V(6),ct=F(!0),rt=F(!1),st=Z.values,ht=Z.keys,ut=Z.entries,at=$.lastIndexOf,ft=$.reduce,lt=$.reduceRight,pt=$.join,dt=$.sort,vt=$.slice,mt=$.toString,wt=$.toLocaleString,gt=Q("iterator"),bt=Q("toStringTag"),xt=I("typed_constructor"),Mt=I("def_constructor"),jt=s.CONSTR,Ct=s.TYPED,Xt=s.VIEW,zt="Wrong length!",St=V(1,function(t,n){return Ft(W(t,t[Mt]),n)}),Ut=c(function(){return 1===new O(new Uint16Array([1]).buffer)[0]}),It=!!O&&!!O[A].set&&c(function(){new O(1).set({})}),Qt=function(t,n){var i=d(t);if(i<0||i%n)throw Y("Wrong offset!");return i},Vt=function(t){if(M(t)&&Ct in t)return t;throw G(t+" is not a typed array!")},Ft=function(t,n){if(!(M(t)&&xt in t))throw G("It is not a typed array constructor!");return new t(n)},Wt=function(t,n){return Zt(W(t,t[Mt]),n)},Zt=function(t,n){var i=0,o=n.length,e=Ft(t,o);while(o>i)e[i]=n[i++];return e},Kt=function(t,n,i){B(t,n,{get:function(){return this._d[i]}})},Jt=function(t){var n,i,o,e,c,r,s=j(t),h=arguments.length,a=h>1?arguments[1]:void 0,f=void 0!==a,l=U(s);if(void 0!=l&&!C(l)){for(r=l.call(s),o=[],n=0;!(c=r.next()).done;n++)o.push(c.value);s=o}for(f&&h>2&&(a=u(a,arguments[2],2)),n=0,i=v(s.length),e=Ft(this,i);i>n;n++)e[n]=f?a(s[n],n):s[n];return e},Ht=function(){var t=0,n=arguments.length,i=Ft(this,n);while(n>t)i[t]=arguments[t++];return i},Dt=!!O&&c(function(){wt.call(new O(1))}),qt=function(){return wt.apply(Dt?vt.call(Vt(this)):Vt(this),arguments)},kt={copyWithin:function(t,n){return q.call(Vt(this),t,n,arguments.length>2?arguments[2]:void 0)},every:function(t){return it(Vt(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return D.apply(Vt(this),arguments)},filter:function(t){return Wt(this,tt(Vt(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return ot(Vt(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return et(Vt(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){_(Vt(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return rt(Vt(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return ct(Vt(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return pt.apply(Vt(this),arguments)},lastIndexOf:function(t){return at.apply(Vt(this),arguments)},map:function(t){return St(Vt(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return ft.apply(Vt(this),arguments)},reduceRight:function(t){return lt.apply(Vt(this),arguments)},reverse:function(){var t,n=this,i=Vt(n).length,o=Math.floor(i/2),e=0;while(e<o)t=n[e],n[e++]=n[--i],n[i]=t;return n},some:function(t){return nt(Vt(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return dt.call(Vt(this),t)},subarray:function(t,n){var i=Vt(this),o=i.length,e=w(t,o);return new(W(i,i[Mt]))(i.buffer,i.byteOffset+e*i.BYTES_PER_ELEMENT,v((void 0===n?o:w(n,o))-e))}},Pt=function(t,n){return Wt(this,vt.call(Vt(this),t,n))},Bt=function(t){Vt(this);var n=Qt(arguments[1],1),i=this.length,o=j(t),e=v(o.length),c=0;if(e+n>i)throw Y(zt);while(c<e)this[n+c]=o[c++]},Nt={entries:function(){return ut.call(Vt(this))},keys:function(){return ht.call(Vt(this))},values:function(){return st.call(Vt(this))}},Yt=function(t,n){return M(t)&&t[Ct]&&"symbol"!=typeof n&&n in t&&String(+n)==String(n)},Gt=function(t,n){return Yt(t,n=g(n,!0))?f(2,t[n]):N(t,n)},Ot=function(t,n,i){return!(Yt(t,n=g(n,!0))&&M(i)&&b(i,"value"))||b(i,"get")||b(i,"set")||i.configurable||b(i,"writable")&&!i.writable||b(i,"enumerable")&&!i.enumerable?B(t,n,i):(t[n]=i.value,t)};jt||(P.f=Gt,k.f=Ot),r(r.S+r.F*!jt,"Object",{getOwnPropertyDescriptor:Gt,defineProperty:Ot}),c(function(){mt.call({})})&&(mt=wt=function(){return pt.call(this)});var Lt=p({},kt);p(Lt,Nt),l(Lt,gt,Nt.values),p(Lt,{slice:Pt,set:Bt,constructor:function(){},toString:mt,toLocaleString:qt}),Kt(Lt,"buffer","b"),Kt(Lt,"byteOffset","o"),Kt(Lt,"byteLength","l"),Kt(Lt,"length","e"),B(Lt,bt,{get:function(){return this[Ct]}}),t.exports=function(t,n,i,h){h=!!h;var u=t+(h?"Clamped":"")+"Array",f="get"+t,p="set"+t,d=e[u],w=d||{},g=d&&z(d),b=!d||!s.ABV,j={},C=d&&d[A],U=function(t,i){var o=t._d;return o.v[f](i*n+o.o,Ut)},I=function(t,i,o){var e=t._d;h&&(o=(o=Math.round(o))<0?0:o>255?255:255&o),e.v[p](i*n+e.o,o,Ut)},Q=function(t,n){B(t,n,{get:function(){return U(this,n)},set:function(t){return I(this,n,t)},enumerable:!0})};b?(d=i(function(t,i,o,e){a(t,d,u,"_d");var c,r,s,h,f=0,p=0;if(M(i)){if(!(i instanceof E||(h=x(i))==L||h==y))return Ct in i?Zt(d,i):Jt.call(d,i);c=i,p=Qt(o,n);var w=i.byteLength;if(void 0===e){if(w%n)throw Y(zt);if(r=w-p,r<0)throw Y(zt)}else if(r=v(e)*n,r+p>w)throw Y(zt);s=r/n}else s=m(i),r=s*n,c=new E(r);l(t,"_d",{b:c,o:p,l:r,e:s,v:new T(c)});while(f<s)Q(t,f++)}),C=d[A]=X(Lt),l(C,"constructor",d)):c(function(){d(1)})&&c(function(){new d(-1)})&&J(function(t){new d,new d(null),new d(1.5),new d(t)},!0)||(d=i(function(t,i,o,e){var c;return a(t,d,u),M(i)?i instanceof E||(c=x(i))==L||c==y?void 0!==e?new w(i,Qt(o,n),e):void 0!==o?new w(i,Qt(o,n)):new w(i):Ct in i?Zt(d,i):Jt.call(d,i):new w(m(i))}),_(g!==Function.prototype?S(w).concat(S(g)):S(w),function(t){t in d||l(d,t,w[t])}),d[A]=C,o||(C.constructor=d));var V=C[gt],F=!!V&&("values"==V.name||void 0==V.name),W=Nt.values;l(d,xt,!0),l(C,Ct,u),l(C,Xt,!0),l(C,Mt,d),(h?new d(1)[bt]==u:bt in C)||B(C,bt,{get:function(){return u}}),j[u]=d,r(r.G+r.W+r.F*(d!=w),j),r(r.S,u,{BYTES_PER_ELEMENT:n}),r(r.S+r.F*c(function(){w.of.call(d,1)}),u,{from:Jt,of:Ht}),R in C||l(C,R,n),r(r.P,u,kt),H(u),r(r.P+r.F*It,u,{set:Bt}),r(r.P+r.F*!F,u,Nt),o||C.toString==mt||(C.toString=mt),r(r.P+r.F*c(function(){new d(1).slice()}),u,{slice:Pt}),r(r.P+r.F*(c(function(){return[1,2].toLocaleString()!=new d([1,2]).toLocaleString()})||!c(function(){C.toLocaleString.call([1,2])})),u,{toLocaleString:qt}),K[u]=F?V:W,o||F||l(C,gt,W)}}else t.exports=function(){}},"54e2":function(t,n,i){"use strict";var o=i("fd40"),e=i("2b5c"),c=i("d3c3"),r=i("99eb");t.exports=i("3a01")(Array,"Array",function(t,n){this._t=r(t),this._i=0,this._k=n},function(){var t=this._t,n=this._k,i=this._i++;return!t||i>=t.length?(this._t=void 0,e(1)):e(0,"keys"==n?i:"values"==n?t[i]:[i,t[i]])},"values"),c.Arguments=c.Array,o("keys"),o("values"),o("entries")},"5a06":function(t,n,i){var o=i("88b2")("wks"),e=i("bae1"),c=i("e5e0").Symbol,r="function"==typeof c,s=t.exports=function(t){return o[t]||(o[t]=r&&c[t]||(r?c:e)("Symbol."+t))};s.store=o},"5db9":function(t,n,i){},"5e2a":function(t,n,i){var o=i("1160");t.exports=function(t){return Object(o(t))}},6031:function(t,n,i){var o=i("b92a"),e=i("5a06")("toStringTag"),c="Arguments"==o(function(){return arguments}()),r=function(t,n){try{return t[n]}catch(i){}};t.exports=function(t){var n,i,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=r(n=Object(t),e))?i:c?o(n):"Object"==(s=o(n))&&"function"==typeof n.callee?"Arguments":s}},"60be":function(t,n,i){var o=i("3977");t.exports=function(t,n){if(!o(t))return t;var i,e;if(n&&"function"==typeof(i=t.toString)&&!o(e=i.call(t)))return e;if("function"==typeof(i=t.valueOf)&&!o(e=i.call(t)))return e;if(!n&&"function"==typeof(i=t.toString)&&!o(e=i.call(t)))return e;throw TypeError("Can't convert object to primitive value")}},6513:function(t,n,i){var o=i("658e"),e=Math.min;t.exports=function(t){return t>0?e(o(t),9007199254740991):0}},"658e":function(t,n){var i=Math.ceil,o=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?o:i)(t)}},"69b7":function(t,n,i){"use strict";var o=i("6d89"),e=i("bf57"),c=i("3e25"),r=i("f301"),s=i("6513"),h=i("9f3a"),u=i("3316"),a=Math.min,f=[].push,l="split",p="length",d="lastIndex",v=!!function(){try{return new RegExp("x","y")}catch(t){}}();i("9e3f")("split",2,function(t,n,i,m){var w;return w="c"=="abbc"[l](/(b)*/)[1]||4!="test"[l](/(?:)/,-1)[p]||2!="ab"[l](/(?:ab)*/)[p]||4!="."[l](/(.?)(.?)/)[p]||"."[l](/()()/)[p]>1||""[l](/.?/)[p]?function(t,n){var e=String(this);if(void 0===t&&0===n)return[];if(!o(t))return i.call(e,t,n);var c,r,s,h=[],a=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),l=0,v=void 0===n?4294967295:n>>>0,m=new RegExp(t.source,a+"g");while(c=u.call(m,e)){if(r=m[d],r>l&&(h.push(e.slice(l,c.index)),c[p]>1&&c.index<e[p]&&f.apply(h,c.slice(1)),s=c[0][p],l=r,h[p]>=v))break;m[d]===c.index&&m[d]++}return l===e[p]?!s&&m.test("")||h.push(""):h.push(e.slice(l)),h[p]>v?h.slice(0,v):h}:"0"[l](void 0,0)[p]?function(t,n){return void 0===t&&0===n?[]:i.call(this,t,n)}:i,[function(i,o){var e=t(this),c=void 0==i?void 0:i[n];return void 0!==c?c.call(i,e,o):w.call(String(e),i,o)},function(t,n){var o=m(w,t,this,n,w!==i);if(o.done)return o.value;var u=e(t),f=String(this),l=c(u,RegExp),p=u.unicode,d=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(v?"y":"g"),g=new l(v?u:"^(?:"+u.source+")",d),b=void 0===n?4294967295:n>>>0;if(0===b)return[];if(0===f.length)return null===h(g,f)?[f]:[];var x=0,M=0,j=[];while(M<f.length){g.lastIndex=v?M:0;var C,X=h(g,v?f:f.slice(M));if(null===X||(C=a(s(g.lastIndex+(v?0:M)),f.length))===x)M=r(f,M,p);else{if(j.push(f.slice(x,M)),j.length===b)return j;for(var z=1;z<=X.length-1;z++)if(j.push(X[z]),j.length===b)return j;M=x=C}}return j.push(f.slice(x)),j}]})},"6d89":function(t,n,i){var o=i("3977"),e=i("b92a"),c=i("5a06")("match");t.exports=function(t){var n;return o(t)&&(void 0!==(n=t[c])?!!n:"RegExp"==e(t))}},"6ec3":function(t,n,i){t.exports=!i("efc2")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"70dd":function(t,n,i){var o=i("2f3f");t.exports=function(t,n){return new(o(t))(n)}},"83bf":function(t,n,i){var o=i("b92a");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==o(t)?t.split(""):Object(t)}},"88b2":function(t,n,i){var o=i("26d7"),e=i("e5e0"),c="__core-js_shared__",r=e[c]||(e[c]={});(t.exports=function(t,n){return r[t]||(r[t]=void 0!==n?n:{})})("versions",[]).push({version:o.version,mode:i("ea35")?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},"90fe":function(t,n,i){var o=i("3560");t.exports=function(t,n,i){for(var e in n)o(t,e,n[e],i);return t}},9104:function(t,n,i){"use strict";var o=i("9fd0"),e=i("289e"),c=i("cf37"),r={};i("f5c8")(r,i("5a06")("iterator"),function(){return this}),t.exports=function(t,n,i){t.prototype=o(r,{next:e(1,i)}),c(t,n+" Iterator")}},"99eb":function(t,n,i){var o=i("83bf"),e=i("1160");t.exports=function(t){return o(e(t))}},"9b5f":function(t,n,i){!function(n,i){t.exports=i()}(0,function(){return function(t){function n(o){if(i[o])return i[o].exports;var e=i[o]={exports:{},id:o,loaded:!1};return t[o].call(e.exports,e,e.exports,n),e.loaded=!0,e.exports}var i={};return n.m=t,n.c=i,n.p="",n(0)}([function(t,n,i){i(6),i(7),t.exports=i(8)},function(t,n,i){(function(n){!function(i){function o(t,n){return function(){t.apply(n,arguments)}}function e(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],a(t,o(r,this),o(s,this))}function c(t){var n=this;return null===this._state?void this._deferreds.push(t):void f(function(){var i=n._state?t.onFulfilled:t.onRejected;if(null!==i){var o;try{o=i(n._value)}catch(e){return void t.reject(e)}t.resolve(o)}else(n._state?t.resolve:t.reject)(n._value)})}function r(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void a(o(n,t),o(r,this),o(s,this))}this._state=!0,this._value=t,h.call(this)}catch(i){s.call(this,i)}}function s(t){this._state=!1,this._value=t,h.call(this)}function h(){for(var t=0,n=this._deferreds.length;n>t;t++)c.call(this,this._deferreds[t]);this._deferreds=null}function u(t,n,i,o){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.resolve=i,this.reject=o}function a(t,n,i){var o=!1;try{t(function(t){o||(o=!0,n(t))},function(t){o||(o=!0,i(t))})}catch(e){if(o)return;o=!0,i(e)}}var f="function"==typeof n&&n||function(t){setTimeout(t,1)},l=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};e.prototype["catch"]=function(t){return this.then(null,t)},e.prototype.then=function(t,n){var i=this;return new e(function(o,e){c.call(i,new u(t,n,o,e))})},e.all=function(){var t=Array.prototype.slice.call(1===arguments.length&&l(arguments[0])?arguments[0]:arguments);return new e(function(n,i){function o(c,r){try{if(r&&("object"==typeof r||"function"==typeof r)){var s=r.then;if("function"==typeof s)return void s.call(r,function(t){o(c,t)},i)}t[c]=r,0===--e&&n(t)}catch(h){i(h)}}if(0===t.length)return n([]);for(var e=t.length,c=0;c<t.length;c++)o(c,t[c])})},e.resolve=function(t){return t&&"object"==typeof t&&t.constructor===e?t:new e(function(n){n(t)})},e.reject=function(t){return new e(function(n,i){i(t)})},e.race=function(t){return new e(function(n,i){for(var o=0,e=t.length;e>o;o++)t[o].then(n,i)})},e._setImmediateFn=function(t){f=t},e.prototype.always=function(t){var n=this.constructor;return this.then(function(i){return n.resolve(t()).then(function(){return i})},function(i){return n.resolve(t()).then(function(){throw i})})},"undefined"!=typeof t&&t.exports?t.exports=e:i.Promise||(i.Promise=e)}(this)}).call(n,i(2).setImmediate)},function(t,n,i){(function(t,o){function e(t,n){this._id=t,this._clearFn=n}var c=i(3).nextTick,r=Function.prototype.apply,s=Array.prototype.slice,h={},u=0;n.setTimeout=function(){return new e(r.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new e(r.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(t){t.close()},e.prototype.unref=e.prototype.ref=function(){},e.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(t,n){clearTimeout(t._idleTimeoutId),t._idleTimeout=n},n.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},n._unrefActive=n.active=function(t){clearTimeout(t._idleTimeoutId);var n=t._idleTimeout;n>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},n))},n.setImmediate="function"==typeof t?t:function(t){var i=u++,o=!(arguments.length<2)&&s.call(arguments,1);return h[i]=!0,c(function(){h[i]&&(o?t.apply(null,o):t.call(null),n.clearImmediate(i))}),i},n.clearImmediate="function"==typeof o?o:function(t){delete h[t]}}).call(n,i(2).setImmediate,i(2).clearImmediate)},function(t,n){function i(){u=!1,r.length?h=r.concat(h):a=-1,h.length&&o()}function o(){if(!u){var t=setTimeout(i);u=!0;for(var n=h.length;n;){for(r=h,h=[];++a<n;)r&&r[a].run();a=-1,n=h.length}r=null,u=!1,clearTimeout(t)}}function e(t,n){this.fun=t,this.array=n}function c(){}var r,s=t.exports={},h=[],u=!1,a=-1;s.nextTick=function(t){var n=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)n[i-1]=arguments[i];h.push(new e(t,n)),1!==h.length||u||setTimeout(o,0)},e.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=c,s.addListener=c,s.once=c,s.off=c,s.removeListener=c,s.removeAllListeners=c,s.emit=c,s.binding=function(t){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(t){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(t,n){function i(){var t=~navigator.userAgent.indexOf("Android")&&~navigator.vendor.indexOf("Google")&&!~navigator.userAgent.indexOf("Chrome");return t&&navigator.userAgent.match(/AppleWebKit\/(\d+)/).pop()<=534||/MQQBrowser/g.test(navigator.userAgent)}var o=function(){try{return new Blob,!0}catch(t){return!1}}()?window.Blob:function(t,n){var i=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MSBlobBuilder||window.MozBlobBuilder);return t.forEach(function(t){i.append(t)}),i.getBlob(n?n.type:void 0)},e=function(){function t(){var t=this,i=[],e=Array(21).join("-")+(+new Date*(1e16*Math.random())).toString(36),c=XMLHttpRequest.prototype.send;this.getParts=function(){return i.toString()},this.append=function(t,n,o){i.push("--"+e+'\r\nContent-Disposition: form-data; name="'+t+'"'),n instanceof Blob?(i.push('; filename="'+(o||"blob")+'"\r\nContent-Type: '+n.type+"\r\n\r\n"),i.push(n)):i.push("\r\n\r\n"+n),i.push("\r\n")},n++,XMLHttpRequest.prototype.send=function(r){var s,h,u=this;r===t?(i.push("--"+e+"--\r\n"),h=new o(i),s=new FileReader,s.onload=function(){c.call(u,s.result)},s.onerror=function(t){throw t},s.readAsArrayBuffer(h),this.setRequestHeader("Content-Type","multipart/form-data; boundary="+e),n--,0==n&&(XMLHttpRequest.prototype.send=c)):c.call(this,r)}}var n=0;return t.prototype=Object.create(FormData.prototype),t}();t.exports={Blob:o,FormData:i()?e:FormData}},function(t,n,i){var o,e;(function(){function i(t){return!!t.exifdata}function c(t,n){n=n||t.match(/^data\:([^\;]+)\;base64,/im)[1]||"",t=t.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var i=atob(t),o=i.length,e=new ArrayBuffer(o),c=new Uint8Array(e),r=0;o>r;r++)c[r]=i.charCodeAt(r);return e}function r(t,n){var i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType="blob",i.onload=function(t){(200==this.status||0===this.status)&&n(this.response)},i.send()}function s(t,n){function i(i){var o=h(i),e=u(i);t.exifdata=o||{},t.iptcdata=e||{},n&&n.call(t)}if(t.src)if(/^data\:/i.test(t.src)){var o=c(t.src);i(o)}else if(/^blob\:/i.test(t.src)){var e=new FileReader;e.onload=function(t){i(t.target.result)},r(t.src,function(t){e.readAsArrayBuffer(t)})}else{var s=new XMLHttpRequest;s.onload=function(){200==this.status||0===this.status?i(s.response):n(new Error("Could not load image")),s=null},s.open("GET",t.src,!0),s.responseType="arraybuffer",s.send(null)}else if(window.FileReader&&(t instanceof window.Blob||t instanceof window.File)){e=new FileReader;e.onload=function(t){v&&console.log("Got file of length "+t.target.result.byteLength),i(t.target.result)},e.readAsArrayBuffer(t)}}function h(t){var n=new DataView(t);if(v&&console.log("Got file of length "+t.byteLength),255!=n.getUint8(0)||216!=n.getUint8(1))return v&&console.log("Not a valid JPEG"),!1;for(var i,o=2,e=t.byteLength;e>o;){if(255!=n.getUint8(o))return v&&console.log("Not a valid marker at offset "+o+", found: "+n.getUint8(o)),!1;if(i=n.getUint8(o+1),v&&console.log(i),225==i)return v&&console.log("Found 0xFFE1 marker"),d(n,o+4,n.getUint16(o+2)-2);o+=2+n.getUint16(o+2)}}function u(t){var n=new DataView(t);if(v&&console.log("Got file of length "+t.byteLength),255!=n.getUint8(0)||216!=n.getUint8(1))return v&&console.log("Not a valid JPEG"),!1;for(var i=2,o=t.byteLength,e=function(t,n){return 56===t.getUint8(n)&&66===t.getUint8(n+1)&&73===t.getUint8(n+2)&&77===t.getUint8(n+3)&&4===t.getUint8(n+4)&&4===t.getUint8(n+5)};o>i;){if(e(n,i)){var c=n.getUint8(i+7);c%2!==0&&(c+=1),0===c&&(c=4);var r=i+8+c,s=n.getUint16(i+6+c);return a(t,r,s)}i++}}function a(t,n,i){for(var o,e,c,r,s=new DataView(t),h={},u=n;n+i>u;)28===s.getUint8(u)&&2===s.getUint8(u+1)&&(r=s.getUint8(u+2),r in M&&(c=s.getInt16(u+3),c+5,e=M[r],o=p(s,u+5,c),h.hasOwnProperty(e)?h[e]instanceof Array?h[e].push(o):h[e]=[h[e],o]:h[e]=o)),u++;return h}function f(t,n,i,o,e){var c,r,s,h=t.getUint16(i,!e),u={};for(s=0;h>s;s++)c=i+12*s+2,r=o[t.getUint16(c,!e)],!r&&v&&console.log("Unknown tag: "+t.getUint16(c,!e)),u[r]=l(t,c,n,i,e);return u}function l(t,n,i,o,e){var c,r,s,h,u,a,f=t.getUint16(n+2,!e),l=t.getUint32(n+4,!e),d=t.getUint32(n+8,!e)+i;switch(f){case 1:case 7:if(1==l)return t.getUint8(n+8,!e);for(c=l>4?d:n+8,r=[],h=0;l>h;h++)r[h]=t.getUint8(c+h);return r;case 2:return c=l>4?d:n+8,p(t,c,l-1);case 3:if(1==l)return t.getUint16(n+8,!e);for(c=l>2?d:n+8,r=[],h=0;l>h;h++)r[h]=t.getUint16(c+2*h,!e);return r;case 4:if(1==l)return t.getUint32(n+8,!e);for(r=[],h=0;l>h;h++)r[h]=t.getUint32(d+4*h,!e);return r;case 5:if(1==l)return u=t.getUint32(d,!e),a=t.getUint32(d+4,!e),s=new Number(u/a),s.numerator=u,s.denominator=a,s;for(r=[],h=0;l>h;h++)u=t.getUint32(d+8*h,!e),a=t.getUint32(d+4+8*h,!e),r[h]=new Number(u/a),r[h].numerator=u,r[h].denominator=a;return r;case 9:if(1==l)return t.getInt32(n+8,!e);for(r=[],h=0;l>h;h++)r[h]=t.getInt32(d+4*h,!e);return r;case 10:if(1==l)return t.getInt32(d,!e)/t.getInt32(d+4,!e);for(r=[],h=0;l>h;h++)r[h]=t.getInt32(d+8*h,!e)/t.getInt32(d+4+8*h,!e);return r}}function p(t,n,i){var o,e="";for(o=n;n+i>o;o++)e+=String.fromCharCode(t.getUint8(o));return e}function d(t,n){if("Exif"!=p(t,n,4))return v&&console.log("Not valid EXIF data! "+p(t,n,4)),!1;var i,o,e,c,r,s=n+6;if(18761==t.getUint16(s))i=!1;else{if(19789!=t.getUint16(s))return v&&console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),!1;i=!0}if(42!=t.getUint16(s+2,!i))return v&&console.log("Not valid TIFF data! (no 0x002A)"),!1;var h=t.getUint32(s+4,!i);if(8>h)return v&&console.log("Not valid TIFF data! (First offset less than 8)",t.getUint32(s+4,!i)),!1;if(o=f(t,s,s+h,g,i),o.ExifIFDPointer)for(e in c=f(t,s,s+o.ExifIFDPointer,w,i),c){switch(e){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":c[e]=x[e][c[e]];break;case"ExifVersion":case"FlashpixVersion":c[e]=String.fromCharCode(c[e][0],c[e][1],c[e][2],c[e][3]);break;case"ComponentsConfiguration":c[e]=x.Components[c[e][0]]+x.Components[c[e][1]]+x.Components[c[e][2]]+x.Components[c[e][3]]}o[e]=c[e]}if(o.GPSInfoIFDPointer)for(e in r=f(t,s,s+o.GPSInfoIFDPointer,b,i),r){switch(e){case"GPSVersionID":r[e]=r[e][0]+"."+r[e][1]+"."+r[e][2]+"."+r[e][3]}o[e]=r[e]}return o}var v=!1,m=function(t){return t instanceof m?t:this instanceof m?void(this.EXIFwrapped=t):new m(t)};"undefined"!=typeof t&&t.exports&&(n=t.exports=m),n.EXIF=m;var w=m.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},g=m.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},b=m.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},x=m.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}},M={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};m.getData=function(t,n){return!((t instanceof Image||t instanceof HTMLImageElement)&&!t.complete)&&(i(t)?n&&n.call(t):s(t,n),!0)},m.getTag=function(t,n){return i(t)?t.exifdata[n]:void 0},m.getAllTags=function(t){if(!i(t))return{};var n,o=t.exifdata,e={};for(n in o)o.hasOwnProperty(n)&&(e[n]=o[n]);return e},m.pretty=function(t){if(!i(t))return"";var n,o=t.exifdata,e="";for(n in o)o.hasOwnProperty(n)&&(e+="object"==typeof o[n]?o[n]instanceof Number?n+" : "+o[n]+" ["+o[n].numerator+"/"+o[n].denominator+"]\r\n":n+" : ["+o[n].length+" values]\r\n":n+" : "+o[n]+"\r\n");return e},m.readFromBinaryFile=function(t){return h(t)},o=[],e=function(){return m}.apply(n,o),void 0===e||(t.exports=e)}).call(this)},function(t,n,i){var o,e;!function(){function i(t){var n=t.naturalWidth,i=t.naturalHeight;if(n*i>1048576){var o=document.createElement("canvas");o.width=o.height=1;var e=o.getContext("2d");return e.drawImage(t,1-n,0),0===e.getImageData(0,0,1,1).data[3]}return!1}function c(t,n,i){var o=document.createElement("canvas");o.width=1,o.height=i;var e=o.getContext("2d");e.drawImage(t,0,0);for(var c=e.getImageData(0,0,1,i).data,r=0,s=i,h=i;h>r;){var u=c[4*(h-1)+3];0===u?s=h:r=h,h=s+r>>1}var a=h/i;return 0===a?1:a}function r(t,n,i){var o=document.createElement("canvas");return s(t,o,n,i),o.toDataURL("image/jpeg",n.quality||.8)}function s(t,n,o,e){var r=t.naturalWidth,s=t.naturalHeight,u=o.width,a=o.height,f=n.getContext("2d");f.save(),h(n,f,u,a,o.orientation);var l=i(t);l&&(r/=2,s/=2);var p=1024,d=document.createElement("canvas");d.width=d.height=p;for(var v=d.getContext("2d"),m=e?c(t,r,s):1,w=Math.ceil(p*u/r),g=Math.ceil(p*a/s/m),b=0,x=0;s>b;){for(var M=0,j=0;r>M;)v.clearRect(0,0,p,p),v.drawImage(t,-M,-b),f.drawImage(d,0,0,p,p,j,x,w,g),M+=p,j+=w;b+=p,x+=g}f.restore(),d=v=null}function h(t,n,i,o,e){switch(e){case 5:case 6:case 7:case 8:t.width=o,t.height=i;break;default:t.width=i,t.height=o}switch(e){case 2:n.translate(i,0),n.scale(-1,1);break;case 3:n.translate(i,o),n.rotate(Math.PI);break;case 4:n.translate(0,o),n.scale(1,-1);break;case 5:n.rotate(.5*Math.PI),n.scale(1,-1);break;case 6:n.rotate(.5*Math.PI),n.translate(0,-o);break;case 7:n.rotate(.5*Math.PI),n.translate(i,-o),n.scale(-1,1);break;case 8:n.rotate(-.5*Math.PI),n.translate(-i,0)}}function u(t){if(window.Blob&&t instanceof Blob){var n=new Image,i=window.URL&&window.URL.createObjectURL?window.URL:window.webkitURL&&window.webkitURL.createObjectURL?window.webkitURL:null;if(!i)throw Error("No createObjectURL function found to create blob url");n.src=i.createObjectURL(t),this.blob=t,t=n}if(!t.naturalWidth&&!t.naturalHeight){var o=this;t.onload=function(){var t=o.imageLoadListeners;if(t){o.imageLoadListeners=null;for(var n=0,i=t.length;i>n;n++)t[n]()}},this.imageLoadListeners=[]}this.srcImage=t}u.prototype.render=function(t,n,i){if(this.imageLoadListeners){var o=this;this.imageLoadListeners.push(function(){o.render(t,n,i)})}else{n=n||{};var e=this.srcImage,c=e.src,h=c.length,u=e.naturalWidth,a=e.naturalHeight,f=n.width,l=n.height,p=n.maxWidth,d=n.maxHeight,v=this.blob&&"image/jpeg"===this.blob.type||0===c.indexOf("data:image/jpeg")||c.indexOf(".jpg")===h-4||c.indexOf(".jpeg")===h-5;f&&!l?l=a*f/u<<0:l&&!f?f=u*l/a<<0:(f=u,l=a),p&&f>p&&(f=p,l=a*f/u<<0),d&&l>d&&(l=d,f=u*l/a<<0);var m={width:f,height:l};for(var w in n)m[w]=n[w];var g=t.tagName.toLowerCase();"img"===g?t.src=r(this.srcImage,m,v):"canvas"===g&&s(this.srcImage,t,m,v),"function"==typeof this.onrender&&this.onrender(t),i&&i()}},o=[],e=function(){return u}.apply(n,o),void 0===e||(t.exports=e)}()},function(t,n){function i(t){function n(t){for(var n=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],i=0;64>i;i++){var o=X((n[i]*t+50)/100);1>o?o=1:o>255&&(o=255),z[B[i]]=o}for(var e=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],c=0;64>c;c++){var r=X((e[c]*t+50)/100);1>r?r=1:r>255&&(r=255),S[B[c]]=r}for(var s=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],h=0,u=0;8>u;u++)for(var a=0;8>a;a++)U[h]=1/(z[B[h]]*s[u]*s[a]*8),I[h]=1/(S[B[h]]*s[u]*s[a]*8),h++}function i(t,n){for(var i=0,o=0,e=new Array,c=1;16>=c;c++){for(var r=1;r<=t[c];r++)e[n[o]]=[],e[n[o]][0]=i,e[n[o]][1]=c,o++,i++;i*=2}return e}function o(){b=i(N,Y),x=i(L,y),M=i(G,O),j=i(R,A)}function e(){for(var t=1,n=2,i=1;15>=i;i++){for(var o=t;n>o;o++)V[32767+o]=i,Q[32767+o]=[],Q[32767+o][1]=i,Q[32767+o][0]=o;for(var e=-(n-1);-t>=e;e++)V[32767+e]=i,Q[32767+e]=[],Q[32767+e][1]=i,Q[32767+e][0]=n-1+e;t<<=1,n<<=1}}function c(){for(var t=0;256>t;t++)P[t]=19595*t,P[t+256>>0]=38470*t,P[t+512>>0]=7471*t+32768,P[t+768>>0]=-11059*t,P[t+1024>>0]=-21709*t,P[t+1280>>0]=32768*t+8421375,P[t+1536>>0]=-27439*t,P[t+1792>>0]=-5329*t}function r(t){for(var n=t[0],i=t[1]-1;i>=0;)n&1<<i&&(K|=1<<J),i--,J--,0>J&&(255==K?(s(255),s(0)):s(K),J=7,K=0)}function s(t){Z.push(k[t])}function h(t){s(t>>8&255),s(255&t)}function u(t,n){var i,o,e,c,r,s,h,u,a,f=0;const l=8,p=64;for(a=0;l>a;++a){i=t[f],o=t[f+1],e=t[f+2],c=t[f+3],r=t[f+4],s=t[f+5],h=t[f+6],u=t[f+7];var d=i+u,v=i-u,m=o+h,w=o-h,g=e+s,b=e-s,x=c+r,M=c-r,j=d+x,C=d-x,X=m+g,z=m-g;t[f]=j+X,t[f+4]=j-X;var S=.707106781*(z+C);t[f+2]=C+S,t[f+6]=C-S,j=M+b,X=b+w,z=w+v;var U=.382683433*(j-z),I=.5411961*j+U,Q=1.306562965*z+U,V=.707106781*X,W=v+V,Z=v-V;t[f+5]=Z+I,t[f+3]=Z-I,t[f+1]=W+Q,t[f+7]=W-Q,f+=8}for(f=0,a=0;l>a;++a){i=t[f],o=t[f+8],e=t[f+16],c=t[f+24],r=t[f+32],s=t[f+40],h=t[f+48],u=t[f+56];var K=i+u,J=i-u,H=o+h,D=o-h,q=e+s,k=e-s,P=c+r,B=c-r,N=K+P,Y=K-P,G=H+q,O=H-q;t[f]=N+G,t[f+32]=N-G;var L=.707106781*(O+Y);t[f+16]=Y+L,t[f+48]=Y-L,N=B+k,G=k+D,O=D+J;var y=.382683433*(N-O),R=.5411961*N+y,A=1.306562965*O+y,$=.707106781*G,E=J+$,T=J-$;t[f+40]=T+R,t[f+24]=T-R,t[f+8]=E+A,t[f+56]=E-A,f++}var _;for(a=0;p>a;++a)_=t[a]*n[a],F[a]=_>0?_+.5|0:_-.5|0;return F}function a(){h(65504),h(16),s(74),s(70),s(73),s(70),s(0),s(1),s(1),s(0),h(1),h(1),s(0),s(0)}function f(t,n){h(65472),h(17),s(8),h(n),h(t),s(3),s(1),s(17),s(0),s(2),s(17),s(1),s(3),s(17),s(1)}function l(){h(65499),h(132),s(0);for(var t=0;64>t;t++)s(z[t]);s(1);for(var n=0;64>n;n++)s(S[n])}function p(){h(65476),h(418),s(0);for(var t=0;16>t;t++)s(N[t+1]);for(var n=0;11>=n;n++)s(Y[n]);s(16);for(var i=0;16>i;i++)s(G[i+1]);for(var o=0;161>=o;o++)s(O[o]);s(1);for(var e=0;16>e;e++)s(L[e+1]);for(var c=0;11>=c;c++)s(y[c]);s(17);for(var r=0;16>r;r++)s(R[r+1]);for(var u=0;161>=u;u++)s(A[u])}function d(){h(65498),h(12),s(3),s(1),s(0),s(2),s(17),s(3),s(17),s(0),s(63),s(0)}function v(t,n,i,o,e){var c,s=e[0],h=e[240];const a=16,f=63,l=64;for(var p=u(t,n),d=0;l>d;++d)W[B[d]]=p[d];var v=W[0]-i;i=W[0],0==v?r(o[0]):(c=32767+v,r(o[V[c]]),r(Q[c]));for(var m=63;m>0&&0==W[m];m--);if(0==m)return r(s),i;for(var w,g=1;m>=g;){for(var b=g;0==W[g]&&m>=g;++g);var x=g-b;if(x>=a){w=x>>4;for(var M=1;w>=M;++M)r(h);x&=15}c=32767+W[g],r(e[(x<<4)+V[c]]),r(Q[c]),g++}return m!=f&&r(s),i}function m(){for(var t=String.fromCharCode,n=0;256>n;n++)k[n]=t(n)}function w(t){if(0>=t&&(t=1),t>100&&(t=100),C!=t){var i=0;i=50>t?Math.floor(5e3/t):Math.floor(200-2*t),n(i),C=t}}function g(){(new Date).getTime();t||(t=50),m(),o(),e(),c(),w(t),(new Date).getTime()}var b,x,M,j,C,X=(Math.round,Math.floor),z=new Array(64),S=new Array(64),U=new Array(64),I=new Array(64),Q=new Array(65535),V=new Array(65535),F=new Array(64),W=new Array(64),Z=[],K=0,J=7,H=new Array(64),D=new Array(64),q=new Array(64),k=new Array(256),P=new Array(2048),B=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],N=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Y=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],L=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],y=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],A=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];this.encode=function(t,n,i){(new Date).getTime();n&&w(n),Z=new Array,K=0,J=7,h(65496),a(),l(),f(t.width,t.height),p(),d();var o=0,e=0,c=0;K=0,J=7,this.encode.displayName="_encode_";for(var s,u,m,g,C,X,z,S,Q,V=t.data,F=t.width,W=t.height,k=4*F,B=0;W>B;){for(s=0;k>s;){for(C=k*B+s,X=C,z=-1,S=0,Q=0;64>Q;Q++)S=Q>>3,z=4*(7&Q),X=C+S*k+z,B+S>=W&&(X-=k*(B+1+S-W)),s+z>=k&&(X-=s+z-k+4),u=V[X++],m=V[X++],g=V[X++],H[Q]=(P[u]+P[m+256>>0]+P[g+512>>0]>>16)-128,D[Q]=(P[u+768>>0]+P[m+1024>>0]+P[g+1280>>0]>>16)-128,q[Q]=(P[u+1280>>0]+P[m+1536>>0]+P[g+1792>>0]>>16)-128;o=v(H,U,o,b,M),e=v(D,I,e,x,j),c=v(q,I,c,x,j),s+=32}B+=8}if(J>=0){var N=[];N[1]=J+1,N[0]=(1<<J+1)-1,r(N)}if(h(65497),i){for(var Y=Z.length,G=new Uint8Array(Y),O=0;Y>O;O++)G[O]=Z[O].charCodeAt();return Z=[],(new Date).getTime(),G}var L="data:image/jpeg;base64,"+btoa(Z.join(""));return Z=[],(new Date).getTime(),L},g()}t.exports=i},function(t,n,i){function o(t,n){var i=this;if(!t)throw new Error("没有收到图片，可能的解决方案：https://github.com/think2011/localResizeIMG/issues/7");for(var o in n=n||{},i.defaults={width:null,height:null,fieldName:"file",quality:.7},i.file=t,n)n.hasOwnProperty(o)&&(i.defaults[o]=n[o]);return this.init()}function e(t){var n=null;return n=t?[].filter.call(document.scripts,function(n){return-1!==n.src.indexOf(t)})[0]:document.scripts[document.scripts.length-1],n?n.src.substr(0,n.src.lastIndexOf("/")):null}function c(t){var n;n=t.split(",")[0].indexOf("base64")>=0?atob(t.split(",")[1]):unescape(t.split(",")[1]);for(var i=t.split(",")[0].split(":")[1].split(";")[0],o=new Uint8Array(n.length),e=0;e<n.length;e++)o[e]=n.charCodeAt(e);return new s.Blob([o.buffer],{type:i})}i.p=e("lrz")+"/",window.URL=window.URL||window.webkitURL;var r=i(1),s=i(4),h=i(5),u=function(t){var n=/OS (\d)_.* like Mac OS X/g.exec(t),i=/Android (\d.*?);/g.exec(t)||/Android\/(\d.*?) /g.exec(t);return{oldIOS:!!n&&+n.pop()<8,oldAndroid:!!i&&+i.pop().substr(0,3)<4.5,iOS:/\(i[^;]+;( U;)? CPU.+Mac OS X/.test(t),android:/Android/g.test(t),mQQBrowser:/MQQBrowser/g.test(t)}}(navigator.userAgent);o.prototype.init=function(){var t=this,n=t.file,i="string"==typeof n,o=/^data:/.test(n),e=new Image,h=document.createElement("canvas"),u=i?n:URL.createObjectURL(n);if(t.img=e,t.blob=u,t.canvas=h,t.fileName=i?o?"base64.jpg":n.split("/").pop():n.name,!document.createElement("canvas").getContext)throw new Error("浏览器不支持canvas");return new r(function(i,r){e.onerror=function(){var t=new Error("加载图片文件失败");throw r(t),t},e.onload=function(){t._getBase64().then(function(t){if(t.length<10){var n=new Error("生成base64失败");throw r(n),n}return t}).then(function(o){var e=null;for(var r in"object"==typeof t.file&&o.length>t.file.size?(e=new FormData,n=t.file):(e=new s.FormData,n=c(o)),e.append(t.defaults.fieldName,n,t.fileName.replace(/\..+/g,".jpg")),i({formData:e,fileLen:+n.size,base64:o,base64Len:o.length,origin:t.file,file:n}),t)t.hasOwnProperty(r)&&(t[r]=null);URL.revokeObjectURL(t.blob)})},!o&&(e.crossOrigin="*"),e.src=u})},o.prototype._getBase64=function(){var t=this,n=t.img,i=t.file,o=t.canvas;return new r(function(e){try{h.getData("object"==typeof i?i:n,function(){t.orientation=h.getTag(this,"Orientation"),t.resize=t._getResize(),t.ctx=o.getContext("2d"),o.width=t.resize.width,o.height=t.resize.height,t.ctx.fillStyle="#fff",t.ctx.fillRect(0,0,o.width,o.height),u.oldIOS?t._createBase64ForOldIOS().then(e):t._createBase64().then(e)})}catch(c){throw new Error(c)}})},o.prototype._createBase64ForOldIOS=function(){var t=this,n=t.img,o=t.canvas,e=t.defaults,c=t.orientation;return new r(function(t){!function(){var r=[i(6)];(function(i){var r=new i(n);"5678".indexOf(c)>-1?r.render(o,{width:o.height,height:o.width,orientation:c}):r.render(o,{width:o.width,height:o.height,orientation:c}),t(o.toDataURL("image/jpeg",e.quality))}).apply(null,r)}()})},o.prototype._createBase64=function(){var t=this,n=t.resize,o=t.img,e=t.canvas,c=t.ctx,s=t.defaults,h=t.orientation;switch(h){case 3:c.rotate(180*Math.PI/180),c.drawImage(o,-n.width,-n.height,n.width,n.height);break;case 6:c.rotate(90*Math.PI/180),c.drawImage(o,0,-n.width,n.height,n.width);break;case 8:c.rotate(270*Math.PI/180),c.drawImage(o,-n.height,0,n.height,n.width);break;case 2:c.translate(n.width,0),c.scale(-1,1),c.drawImage(o,0,0,n.width,n.height);break;case 4:c.translate(n.width,0),c.scale(-1,1),c.rotate(180*Math.PI/180),c.drawImage(o,-n.width,-n.height,n.width,n.height);break;case 5:c.translate(n.width,0),c.scale(-1,1),c.rotate(90*Math.PI/180),c.drawImage(o,0,-n.width,n.height,n.width);break;case 7:c.translate(n.width,0),c.scale(-1,1),c.rotate(270*Math.PI/180),c.drawImage(o,-n.height,0,n.height,n.width);break;default:c.drawImage(o,0,0,n.width,n.height)}return new r(function(t){u.oldAndroid||u.mQQBrowser||!navigator.userAgent?function(){var n=[i(7)];(function(n){var i=new n,o=c.getImageData(0,0,e.width,e.height);t(i.encode(o,100*s.quality))}).apply(null,n)}():t(e.toDataURL("image/jpeg",s.quality))})},o.prototype._getResize=function(){var t=this,n=t.img,i=t.defaults,o=i.width,e=i.height,c=t.orientation,r={width:n.width,height:n.height};if("5678".indexOf(c)>-1&&(r.width=n.height,r.height=n.width),r.width<o||r.height<e)return r;var s=r.width/r.height;for(o&&e?s>=o/e?r.width>o&&(r.width=o,r.height=Math.ceil(o/s)):r.height>e&&(r.height=e,r.width=Math.ceil(e*s)):o?o<r.width&&(r.width=o,r.height=Math.ceil(o/s)):e&&e<r.height&&(r.width=Math.ceil(e*s),r.height=e);r.width>=3264||r.height>=2448;)r.width*=.8,r.height*=.8;return r},window.lrz=function(t,n){return new o(t,n)},window.lrz.version="4.9.40",t.exports=window.lrz}])})},"9c7c":function(t,n,i){var o=i("4fae"),e=i("99eb"),c=i("a970")(!1),r=i("0f4c")("IE_PROTO");t.exports=function(t,n){var i,s=e(t),h=0,u=[];for(i in s)i!=r&&o(s,i)&&u.push(i);while(n.length>h)o(s,i=n[h++])&&(~c(u,i)||u.push(i));return u}},"9e3f":function(t,n,i){"use strict";i("ea65");var o=i("3560"),e=i("f5c8"),c=i("efc2"),r=i("1160"),s=i("5a06"),h=i("3316"),u=s("species"),a=!c(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),f=function(){var t=/(?:)/,n=t.exec;t.exec=function(){return n.apply(this,arguments)};var i="ab".split(t);return 2===i.length&&"a"===i[0]&&"b"===i[1]}();t.exports=function(t,n,i){var l=s(t),p=!c(function(){var n={};return n[l]=function(){return 7},7!=""[t](n)}),d=p?!c(function(){var n=!1,i=/a/;return i.exec=function(){return n=!0,null},"split"===t&&(i.constructor={},i.constructor[u]=function(){return i}),i[l](""),!n}):void 0;if(!p||!d||"replace"===t&&!a||"split"===t&&!f){var v=/./[l],m=i(r,l,""[t],function(t,n,i,o,e){return n.exec===h?p&&!e?{done:!0,value:v.call(n,i,o)}:{done:!0,value:t.call(i,n,o)}:{done:!1}}),w=m[0],g=m[1];o(String.prototype,t,w),e(RegExp.prototype,l,2==n?function(t,n){return g.call(t,this,n)}:function(t){return g.call(t,this)})}}},"9e9a":function(t,n,i){var o=i("e5e0"),e=i("26d7"),c=i("f5c8"),r=i("3560"),s=i("ccc7"),h="prototype",u=function(t,n,i){var a,f,l,p,d=t&u.F,v=t&u.G,m=t&u.S,w=t&u.P,g=t&u.B,b=v?o:m?o[n]||(o[n]={}):(o[n]||{})[h],x=v?e:e[n]||(e[n]={}),M=x[h]||(x[h]={});for(a in v&&(i=n),i)f=!d&&b&&void 0!==b[a],l=(f?b:i)[a],p=g&&f?s(l,o):w&&"function"==typeof l?s(Function.call,l):l,b&&r(b,a,l,t&u.U),x[a]!=l&&c(x,a,p),w&&M[a]!=l&&(M[a]=l)};o.core=e,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},"9f3a":function(t,n,i){"use strict";var o=i("6031"),e=RegExp.prototype.exec;t.exports=function(t,n){var i=t.exec;if("function"===typeof i){var c=i.call(t,n);if("object"!==typeof c)throw new TypeError("RegExp exec method returned something other than an Object or null");return c}if("RegExp"!==o(t))throw new TypeError("RegExp#exec called on incompatible receiver");return e.call(t,n)}},"9fd0":function(t,n,i){var o=i("bf57"),e=i("b87f"),c=i("c112"),r=i("0f4c")("IE_PROTO"),s=function(){},h="prototype",u=function(){var t,n=i("3e86")("iframe"),o=c.length,e="<",r=">";n.style.display="none",i("dd0a").appendChild(n),n.src="javascript:",t=n.contentWindow.document,t.open(),t.write(e+"script"+r+"document.F=Object"+e+"/script"+r),t.close(),u=t.F;while(o--)delete u[h][c[o]];return u()};t.exports=Object.create||function(t,n){var i;return null!==t?(s[h]=o(t),i=new s,s[h]=null,i[r]=t):i=u(),void 0===n?i:e(i,n)}},a70b:function(t,n,i){var o=i("5a06")("iterator"),e=!1;try{var c=[7][o]();c["return"]=function(){e=!0},Array.from(c,function(){throw 2})}catch(r){}t.exports=function(t,n){if(!n&&!e)return!1;var i=!1;try{var c=[7],s=c[o]();s.next=function(){return{done:i=!0}},c[o]=function(){return s},t(c)}catch(r){}return i}},a81d:function(t,n,i){"use strict";var o=i("5e2a"),e=i("ca1e"),c=i("6513");t.exports=function(t){var n=o(this),i=c(n.length),r=arguments.length,s=e(r>1?arguments[1]:void 0,i),h=r>2?arguments[2]:void 0,u=void 0===h?i:e(h,i);while(u>s)n[s++]=t;return n}},a970:function(t,n,i){var o=i("99eb"),e=i("6513"),c=i("ca1e");t.exports=function(t){return function(n,i,r){var s,h=o(n),u=e(h.length),a=c(r,u);if(t&&i!=i){while(u>a)if(s=h[a++],s!=s)return!0}else for(;u>a;a++)if((t||a in h)&&h[a]===i)return t||a||0;return!t&&-1}}},ae78:function(t,n,i){"use strict";var o=i("5e2a"),e=i("ca1e"),c=i("6513");t.exports=[].copyWithin||function(t,n){var i=o(this),r=c(i.length),s=e(t,r),h=e(n,r),u=arguments.length>2?arguments[2]:void 0,a=Math.min((void 0===u?r:e(u,r))-h,r-s),f=1;h<s&&s<h+a&&(f=-1,h+=a-1,s+=a-1);while(a-- >0)h in i?i[s]=i[h]:delete i[s],s+=f,h+=f;return i}},b784:function(t,n,i){"use strict";var o=i("bf57");t.exports=function(){var t=o(this),n="";return t.global&&(n+="g"),t.ignoreCase&&(n+="i"),t.multiline&&(n+="m"),t.unicode&&(n+="u"),t.sticky&&(n+="y"),n}},b87f:function(t,n,i){var o=i("1c73"),e=i("bf57"),c=i("d1c1");t.exports=i("6ec3")?Object.defineProperties:function(t,n){e(t);var i,r=c(n),s=r.length,h=0;while(s>h)o.f(t,i=r[h++],n[i]);return t}},b92a:function(t,n){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},bae1:function(t,n){var i=0,o=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+o).toString(36))}},be1f:function(t,n,i){"use strict";var o=i("bf57"),e=i("6513"),c=i("f301"),r=i("9f3a");i("9e3f")("match",1,function(t,n,i,s){return[function(i){var o=t(this),e=void 0==i?void 0:i[n];return void 0!==e?e.call(i,o):new RegExp(i)[n](String(o))},function(t){var n=s(i,t,this);if(n.done)return n.value;var h=o(t),u=String(this);if(!h.global)return r(h,u);var a=h.unicode;h.lastIndex=0;var f,l=[],p=0;while(null!==(f=r(h,u))){var d=String(f[0]);l[p]=d,""===d&&(h.lastIndex=c(u,e(h.lastIndex),a)),p++}return 0===p?null:l}]})},bf57:function(t,n,i){var o=i("3977");t.exports=function(t){if(!o(t))throw TypeError(t+" is not an object!");return t}},c112:function(t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},c43e:function(t,n){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},c72e:function(t,n,i){"use strict";var o=i("e5e0"),e=i("1c73"),c=i("6ec3"),r=i("5a06")("species");t.exports=function(t){var n=o[t];c&&n&&!n[r]&&e.f(n,r,{configurable:!0,get:function(){return this}})}},c9a0:function(t,n,i){var o=i("658e"),e=i("1160");t.exports=function(t){return function(n,i){var c,r,s=String(e(n)),h=o(i),u=s.length;return h<0||h>=u?t?"":void 0:(c=s.charCodeAt(h),c<55296||c>56319||h+1===u||(r=s.charCodeAt(h+1))<56320||r>57343?t?s.charAt(h):c:t?s.slice(h,h+2):r-56320+(c-55296<<10)+65536)}}},ca1e:function(t,n,i){var o=i("658e"),e=Math.max,c=Math.min;t.exports=function(t,n){return t=o(t),t<0?e(t+n,0):c(t,n)}},ca2a:function(t,n,i){var o,e=i("e5e0"),c=i("f5c8"),r=i("bae1"),s=r("typed_array"),h=r("view"),u=!(!e.ArrayBuffer||!e.DataView),a=u,f=0,l=9,p="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");while(f<l)(o=e[p[f++]])?(c(o.prototype,s,!0),c(o.prototype,h,!0)):a=!1;t.exports={ABV:u,CONSTR:a,TYPED:s,VIEW:h}},ccc7:function(t,n,i){var o=i("1d6d");t.exports=function(t,n,i){if(o(t),void 0===n)return t;switch(i){case 1:return function(i){return t.call(n,i)};case 2:return function(i,o){return t.call(n,i,o)};case 3:return function(i,o,e){return t.call(n,i,o,e)}}return function(){return t.apply(n,arguments)}}},cf37:function(t,n,i){var o=i("1c73").f,e=i("4fae"),c=i("5a06")("toStringTag");t.exports=function(t,n,i){t&&!e(t=i?t:t.prototype,c)&&o(t,c,{configurable:!0,value:n})}},d1c1:function(t,n,i){var o=i("9c7c"),e=i("c112");t.exports=Object.keys||function(t){return o(t,e)}},d2a4:function(t,n,i){t.exports=!i("6ec3")&&!i("efc2")(function(){return 7!=Object.defineProperty(i("3e86")("div"),"a",{get:function(){return 7}}).a})},d3b3:function(t,n,i){var o=i("9c7c"),e=i("c112").concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return o(t,e)}},d3c3:function(t,n){t.exports={}},dbe5:function(t,n,i){var o=i("d3c3"),e=i("5a06")("iterator"),c=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||c[e]===t)}},dbf6:function(t,n,i){var o=i("658e"),e=i("6513");t.exports=function(t){if(void 0===t)return 0;var n=o(t),i=e(n);if(n!==i)throw RangeError("Wrong length!");return i}},dd0a:function(t,n,i){var o=i("e5e0").document;t.exports=o&&o.documentElement},e5e0:function(t,n){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},e8db:function(t,n,i){"use strict";var o=i("d1c1"),e=i("51a2"),c=i("3c7a"),r=i("5e2a"),s=i("83bf"),h=Object.assign;t.exports=!h||i("efc2")(function(){var t={},n={},i=Symbol(),o="abcdefghijklmnopqrst";return t[i]=7,o.split("").forEach(function(t){n[t]=t}),7!=h({},t)[i]||Object.keys(h({},n)).join("")!=o})?function(t,n){var i=r(t),h=arguments.length,u=1,a=e.f,f=c.f;while(h>u){var l,p=s(arguments[u++]),d=a?o(p).concat(a(p)):o(p),v=d.length,m=0;while(v>m)f.call(p,l=d[m++])&&(i[l]=p[l])}return i}:h},ea35:function(t,n){t.exports=!1},ea65:function(t,n,i){"use strict";var o=i("3316");i("9e9a")({target:"RegExp",proto:!0,forced:o!==/./.exec},{exec:o})},eb04:function(t,n,i){i("52d3")("Uint8",1,function(t){return function(n,i,o){return t(this,n,i,o)}})},ee63:function(t,n,i){var o=i("b92a");t.exports=Array.isArray||function(t){return"Array"==o(t)}},ef53:function(t,n,i){var o=i("ccc7"),e=i("83bf"),c=i("5e2a"),r=i("6513"),s=i("70dd");t.exports=function(t,n){var i=1==t,h=2==t,u=3==t,a=4==t,f=6==t,l=5==t||f,p=n||s;return function(n,s,d){for(var v,m,w=c(n),g=e(w),b=o(s,d,3),x=r(g.length),M=0,j=i?p(n,x):h?p(n,0):void 0;x>M;M++)if((l||M in g)&&(v=g[M],m=b(v,M,w),t))if(i)j[M]=m;else if(m)switch(t){case 3:return!0;case 5:return v;case 6:return M;case 2:j.push(v)}else if(a)return!1;return f?-1:u||a?a:j}}},efc2:function(t,n){t.exports=function(t){try{return!!t()}catch(n){return!0}}},f301:function(t,n,i){"use strict";var o=i("c9a0")(!0);t.exports=function(t,n,i){return n+(i?o(t,n).length:1)}},f5c8:function(t,n,i){var o=i("1c73"),e=i("289e");t.exports=i("6ec3")?function(t,n,i){return o.f(t,n,e(1,i))}:function(t,n,i){return t[n]=i,t}},fb76:function(t,n,i){var o=i("9e9a"),e=i("1160"),c=i("efc2"),r=i("c43e"),s="["+r+"]",h="​",u=RegExp("^"+s+s+"*"),a=RegExp(s+s+"*$"),f=function(t,n,i){var e={},s=c(function(){return!!r[t]()||h[t]()!=h}),u=e[t]=s?n(l):r[t];i&&(e[i]=u),o(o.P+o.F*s,"String",e)},l=f.trim=function(t,n){return t=String(e(t)),1&n&&(t=t.replace(u,"")),2&n&&(t=t.replace(a,"")),t};t.exports=f},fd40:function(t,n,i){var o=i("5a06")("unscopables"),e=Array.prototype;void 0==e[o]&&i("f5c8")(e,o,{}),t.exports=function(t){e[o][t]=!0}},ff96:function(t,n,i){var o=i("9e9a");o(o.S+o.F,"Object",{assign:i("e8db")})}})["default"]});
//# sourceMappingURL=test-crop.umd.min.js.map